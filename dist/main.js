!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(e,t,r){"use strict";(function(e,n){r.d(t,"a",(function(){return xe})),r.d(t,"b",(function(){return De}));var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function s(e,t){return e(t={exports:{}},t.exports),t.exports}for(var a=function(e){var t=y(e),r=t[0],n=t[1];return 3*(r+n)/4-n},u=function(e){var t,r,n=y(e),i=n[0],o=n[1],s=new l(function(e,t,r){return 3*(t+r)/4-r}(0,i,o)),a=0,u=o>0?i-4:i;for(r=0;r<u;r+=4)t=h[e.charCodeAt(r)]<<18|h[e.charCodeAt(r+1)]<<12|h[e.charCodeAt(r+2)]<<6|h[e.charCodeAt(r+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;2===o&&(t=h[e.charCodeAt(r)]<<2|h[e.charCodeAt(r+1)]>>4,s[a++]=255&t);1===o&&(t=h[e.charCodeAt(r)]<<10|h[e.charCodeAt(r+1)]<<4|h[e.charCodeAt(r+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t);return s},f=function(e){for(var t,r=e.length,n=r%3,i=[],o=0,s=r-n;o<s;o+=16383)i.push(b(e,o,o+16383>s?s:o+16383));1===n?(t=e[r-1],i.push(c[t>>2]+c[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(c[t>>10]+c[t>>4&63]+c[t<<2&63]+"="));return i.join("")},c=[],h=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,g=p.length;d<g;++d)c[d]=p[d],h[p.charCodeAt(d)]=d;function y(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function b(e,t,r){for(var n,i,o=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(c[(i=n)>>18&63]+c[i>>12&63]+c[i>>6&63]+c[63&i]);return o.join("")}h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63;var _={byteLength:a,toByteArray:u,fromByteArray:f},m=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,f=u>>1,c=-7,h=r?i-1:0,l=r?-1:1,p=e[t+h];for(h+=l,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+e[t+h],h+=l,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=256*s+e[t+h],h+=l,c-=8);if(0===o)o=1-f;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=f}return(p?-1:1)*s*Math.pow(2,o-n)},w=function(e,t,r,n,i,o){var s,a,u,f=8*o-i-1,c=(1<<f)-1,h=c>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+h>=1?l/u:l*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(t*u-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,f+=i;f>0;e[r+p]=255&s,p+=d,s/=256,f-=8);e[r+p-d]|=128*g},v=s((function(e,t){var r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=i,t.SlowBuffer=function(e){+e!=e&&(e=0);return i.alloc(+e)},t.INSPECT_MAX_BYTES=50;function n(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,i.prototype),t}function i(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return a(e)}return o(e,t,r)}function o(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!i.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|h(e,t),o=n(r),s=o.write(e,t);s!==r&&(o=o.slice(0,s));return o}(e,t);if(ArrayBuffer.isView(e))return function(e){if(C(e,Uint8Array)){var t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return u(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(e));if(C(e,ArrayBuffer)||e&&C(e.buffer,ArrayBuffer))return f(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(C(e,SharedArrayBuffer)||e&&C(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var o=e.valueOf&&e.valueOf();if(null!=o&&o!==e)return i.from(o,t,r);var s=function(e){if(i.isBuffer(e)){var t=0|c(e.length),r=n(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||Y(e.length)?n(0):u(e);if("Buffer"===e.type&&Array.isArray(e.data))return u(e.data)}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return i.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(e))}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function a(e){return s(e),n(e<0?0:0|c(e))}function u(e){for(var t=e.length<0?0:0|c(e.length),r=n(t),i=0;i<t;i+=1)r[i]=255&e[i];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,i.prototype),n}function c(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function h(e,t){if(i.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||C(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(e));var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return M(e).length;default:if(o)return n?-1:j(e).length;t=(""+t).toLowerCase(),o=!0}}function l(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return E(this,t,r);case"latin1":case"binary":return N(this,t,r);case"base64":return O(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function p(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function d(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Y(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=i.from(t,n)),i.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,r,n,i){var o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function f(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var c=-1;for(o=r;o<a;o++)if(f(e,o)===f(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var h=!0,l=0;l<u;l++)if(f(e,o+l)!==f(t,l)){h=!1;break}if(h)return o}return-1}function y(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(Y(a))return s;e[r+s]=a}return s}function b(e,t,r,n){return k(j(t,e.length-r),e,r,n)}function v(e,t,r,n){return k(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function A(e,t,r,n){return k(M(t),e,r,n)}function B(e,t,r,n){return k(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function O(e,t,r){return 0===t&&r===e.length?_.fromByteArray(e):_.fromByteArray(e.slice(t,r))}function S(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,u,f=e[i],c=null,h=f>239?4:f>223?3:f>191?2:1;if(i+h<=r)switch(h){case 1:f<128&&(c=f);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&f)<<6|63&o)>127&&(c=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&f)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&f)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.kMaxLength=2147483647,i.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),i.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),i.poolSize=8192,i.from=function(e,t,r){return o(e,t,r)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(e,t,r){return function(e,t,r){return s(e),e<=0?n(e):void 0!==t?"string"==typeof r?n(e).fill(t,r):n(e).fill(t):n(e)}(e,t,r)},i.allocUnsafe=function(e){return a(e)},i.allocUnsafeSlow=function(e){return a(e)},i.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==i.prototype},i.compare=function(e,t){if(C(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),C(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,o=0,s=Math.min(r,n);o<s;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=i.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var s=e[r];if(C(s,Uint8Array))o+s.length>n.length?i.from(s).copy(n,o):Uint8Array.prototype.set.call(n,s,o);else{if(!i.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,o)}o+=s.length}return n},i.byteLength=h,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},i.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):l.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},r&&(i.prototype[r]=i.prototype.inspect),i.prototype.compare=function(e,t,r,n,o){if(C(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(e));if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var s=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),u=Math.min(s,a),f=this.slice(n,o),c=e.slice(t,r),h=0;h<u;++h)if(f[h]!==c[h]){s=f[h],a=c[h];break}return s<a?-1:a<s?1:0},i.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},i.prototype.indexOf=function(e,t,r){return d(this,e,t,r,!0)},i.prototype.lastIndexOf=function(e,t,r){return d(this,e,t,r,!1)},i.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":case"latin1":case"binary":return v(this,e,t,r);case"base64":return A(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function N(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function T(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=$[e[o]];return i}function I(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function D(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function x(e,t,r,n,o,s){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function U(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function R(e,t,r,n,i){return t=+t,r>>>=0,i||U(e,0,r,4),w(e,t,r,n,23,4),r+4}function P(e,t,r,n,i){return t=+t,r>>>=0,i||U(e,0,r,8),w(e,t,r,n,52,8),r+8}i.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,i.prototype),n},i.prototype.readUintLE=i.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},i.prototype.readUintBE=i.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},i.prototype.readUint8=i.prototype.readUInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),this[e]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},i.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},i.prototype.readInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){e>>>=0,t||D(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt16BE=function(e,t){e>>>=0,t||D(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return e>>>=0,t||D(e,4,this.length),m(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return e>>>=0,t||D(e,4,this.length),m(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return e>>>=0,t||D(e,8,this.length),m(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return e>>>=0,t||D(e,8,this.length),m(this,e,!1,52,8)},i.prototype.writeUintLE=i.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||x(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||x(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},i.prototype.writeUint8=i.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,1,255,0),this[t]=255&e,t+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);x(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},i.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);x(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},i.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},i.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeFloatLE=function(e,t,r){return R(this,e,t,!0,r)},i.prototype.writeFloatBE=function(e,t,r){return R(this,e,t,!1,r)},i.prototype.writeDoubleLE=function(e,t,r){return P(this,e,t,!0,r)},i.prototype.writeDoubleBE=function(e,t,r){return P(this,e,t,!1,r)},i.prototype.copy=function(e,t,r,n){if(!i.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),o},i.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!i.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var o=e.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var s;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(s=t;s<r;++s)this[s]=e;else{var a=i.isBuffer(e)?e:i.from(e,n),u=a.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<r-t;++s)this[s+t]=a[s%u]}return this};var L=/[^+/0-9A-Za-z-_]/g;function j(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function M(e){return _.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function k(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function C(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!=e}var $=function(){for(var e=new Array(256),t=0;t<16;++t)for(var r=16*t,n=0;n<16;++n)e[r+n]="0123456789abcdef"[t]+"0123456789abcdef"[n];return e}()}));
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */v.Buffer,v.SlowBuffer,v.INSPECT_MAX_BYTES,v.kMaxLength;var A={},B="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},O=/%[sdj%]/g;function S(e){if(!k(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(T(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(e).replace(O,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),s=n[r];r<i;s=n[++r])j(s)||!$(s)?o+=" "+s:o+=" "+T(s);return o}var E,N={};function T(e,t){var r={seen:[],stylize:D};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),L(t)?r.showHidden=t:t&&q(r,t),C(r.showHidden)&&(r.showHidden=!1),C(r.depth)&&(r.depth=2),C(r.colors)&&(r.colors=!1),C(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=I),x(r,e,r.depth)}function I(e,t){var r=T.styles[t];return r?"["+T.colors[r][0]+"m"+e+"["+T.colors[r][1]+"m":e}function D(e,t){return e}function x(e,t,r){if(e.customInspect&&t&&z(t.inspect)&&t.inspect!==T&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return k(n)||(n=x(e,n,r)),n}var i=function(e,t){if(C(t))return e.stylize("undefined","undefined");if(k(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(M(t))return e.stylize(""+t,"number");if(L(t))return e.stylize(""+t,"boolean");if(j(t))return e.stylize("null","null")}(e,t);if(i)return i;var o=Object.keys(t),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),J(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return U(t);if(0===o.length){if(z(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(Y(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(F(t))return e.stylize(Date.prototype.toString.call(t),"date");if(J(t))return U(t)}var u,f="",c=!1,h=["{","}"];(P(t)&&(c=!0,h=["[","]"]),z(t))&&(f=" [Function"+(t.name?": "+t.name:"")+"]");return Y(t)&&(f=" "+RegExp.prototype.toString.call(t)),F(t)&&(f=" "+Date.prototype.toUTCString.call(t)),J(t)&&(f=" "+U(t)),0!==o.length||c&&0!=t.length?r<0?Y(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),u=c?function(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)X(t,String(s))?o.push(R(e,t,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(R(e,t,r,n,i,!0))})),o}(e,t,r,s,o):o.map((function(n){return R(e,t,r,s,n,c)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(u,f,h)):h[0]+f+h[1]}function U(e){return"["+Error.prototype.toString.call(e)+"]"}function R(e,t,r,n,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),X(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=j(r)?x(e,u.value,null):x(e,u.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),C(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function P(e){return Array.isArray(e)}function L(e){return"boolean"==typeof e}function j(e){return null===e}function M(e){return"number"==typeof e}function k(e){return"string"==typeof e}function C(e){return void 0===e}function Y(e){return $(e)&&"[object RegExp]"===W(e)}function $(e){return"object"===babelHelpers.typeof(e)&&null!==e}function F(e){return $(e)&&"[object Date]"===W(e)}function J(e){return $(e)&&("[object Error]"===W(e)||e instanceof Error)}function z(e){return"function"==typeof e}function W(e){return Object.prototype.toString.call(e)}function V(e){return e<10?"0"+e.toString(10):e.toString(10)}T.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},T.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var H=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function K(){var e=new Date,t=[V(e.getHours()),V(e.getMinutes()),V(e.getSeconds())].join(":");return[e.getDate(),H[e.getMonth()],t].join(" ")}function q(e,t){if(!t||!$(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function X(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var G={inherits:B,_extend:q,log:function(){console.log("%s - %s",K(),S.apply(null,arguments))},isBuffer:function(e){return n.isBuffer(e)},isPrimitive:function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===babelHelpers.typeof(e)||void 0===e},isFunction:z,isError:J,isDate:F,isObject:$,isRegExp:Y,isUndefined:C,isSymbol:function(e){return"symbol"===babelHelpers.typeof(e)},isString:k,isNumber:M,isNullOrUndefined:function(e){return null==e},isNull:j,isBoolean:L,isArray:P,inspect:T,deprecate:function t(r,n){if(C(e.process))return function(){return t(r,n).apply(this,arguments)};var i=!1;return function(){return i||(console.error(n),i=!0),r.apply(this,arguments)}},format:S,debuglog:function(e){if(C(E)&&(E=""),e=e.toUpperCase(),!N[e])if(new RegExp("\\b"+e+"\\b","i").test(E)){N[e]=function(){var t=S.apply(null,arguments);console.error("%s %d: %s",e,0,t)}}else N[e]=function(){};return N[e]}},Z=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.deprecate=t.isObjectLike=t.isDate=t.haveBuffer=t.isMap=t.isRegExp=t.isBigUInt64Array=t.isBigInt64Array=t.isUint8Array=t.isAnyArrayBuffer=t.randomBytes=t.normalizedFunctionString=void 0,t.normalizedFunctionString=function(e){return e.toString().replace("function(","function (")};var r="object"==typeof i.navigator&&"ReactNative"===i.navigator.product?"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.":"BSON: No cryptographic implementation for random bytes present, falling back to a less secure implementation.",n=function(e){console.warn(r);for(var t=v.Buffer.alloc(e),n=0;n<e;++n)t[n]=Math.floor(256*Math.random());return t};function o(e){return"object"==typeof e&&null!==e}t.randomBytes=function(){if("undefined"!=typeof window){var e=window.crypto||window.msCrypto;if(e&&e.getRandomValues)return function(t){return e.getRandomValues(v.Buffer.alloc(t))}}if(void 0!==i&&i.crypto&&i.crypto.getRandomValues)return function(e){return i.crypto.getRandomValues(v.Buffer.alloc(e))};var t;try{t=A.randomBytes}catch(e){}return t||n}(),t.isAnyArrayBuffer=function(e){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(e))},t.isUint8Array=function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},t.isBigInt64Array=function(e){return"[object BigInt64Array]"===Object.prototype.toString.call(e)},t.isBigUInt64Array=function(e){return"[object BigUint64Array]"===Object.prototype.toString.call(e)},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isMap=function(e){return"[object Map]"===Object.prototype.toString.call(e)},t.haveBuffer=function(){return void 0!==i&&void 0!==i.Buffer},t.isDate=function(e){return o(e)&&"[object Date]"===Object.prototype.toString.call(e)},t.isObjectLike=o,t.deprecate=function(e,t){if("undefined"==typeof window&&"undefined"==typeof self)return G.deprecate(e,t);var r=!1;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return r||(console.warn(t),r=!0),e.apply(this,n)}}}));o(Z),Z.deprecate,Z.isObjectLike,Z.isDate,Z.haveBuffer,Z.isMap,Z.isRegExp,Z.isBigUInt64Array,Z.isBigInt64Array,Z.isUint8Array,Z.isAnyArrayBuffer,Z.randomBytes,Z.normalizedFunctionString;var Q=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ensureBuffer=void 0,t.ensureBuffer=function(e){if(ArrayBuffer.isView(e))return v.Buffer.from(e.buffer,e.byteOffset,e.byteLength);if(Z.isAnyArrayBuffer(e))return v.Buffer.from(e);throw new TypeError("Must use either Buffer or TypedArray")}}));o(Q),Q.ensureBuffer;var ee=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.bufferToUuidHexString=t.uuidHexStringToBuffer=t.uuidValidateString=void 0;var r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|[0-9a-f]{12}4[0-9a-f]{3}[89ab][0-9a-f]{15})$/i;t.uuidValidateString=function(e){return"string"==typeof e&&r.test(e)};t.uuidHexStringToBuffer=function(e){if(!t.uuidValidateString(e))throw new TypeError('UUID string representations must be a 32 or 36 character hex string (dashes excluded/included). Format: "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" or "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".');var r=e.replace(/-/g,"");return v.Buffer.from(r,"hex")};t.bufferToUuidHexString=function(e,t){return void 0===t&&(t=!0),t?e.toString("hex",0,4)+"-"+e.toString("hex",4,6)+"-"+e.toString("hex",6,8)+"-"+e.toString("hex",8,10)+"-"+e.toString("hex",10,16):e.toString("hex")}}));o(ee),ee.bufferToUuidHexString,ee.uuidHexStringToBuffer,ee.uuidValidateString;var te=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.UUID=void 0;var r=Symbol("id"),n=function(){function e(t){if(void 0===t)this.id=e.generate();else if(t instanceof e)this[r]=v.Buffer.from(t.id),this.__id=t.__id;else if(ArrayBuffer.isView(t)&&16===t.byteLength)this.id=Q.ensureBuffer(t);else{if("string"!=typeof t)throw new TypeError("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");this.id=ee.uuidHexStringToBuffer(t)}}return Object.defineProperty(e.prototype,"id",{get:function(){return this[r]},set:function(t){this[r]=t,e.cacheHexString&&(this.__id=ee.bufferToUuidHexString(t))},enumerable:!1,configurable:!0}),e.prototype.toHexString=function(t){if(void 0===t&&(t=!0),e.cacheHexString&&this.__id)return this.__id;var r=ee.bufferToUuidHexString(this.id,t);return e.cacheHexString&&(this.__id=r),r},e.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},e.prototype.toJSON=function(){return this.toHexString()},e.prototype.equals=function(t){if(!t)return!1;if(t instanceof e)return t.id.equals(this.id);try{return new e(t).id.equals(this.id)}catch(e){return!1}},e.prototype.toBinary=function(){return new re.Binary(this.id,re.Binary.SUBTYPE_UUID)},e.generate=function(){var e=Z.randomBytes(16);return e[6]=15&e[6]|64,e[8]=63&e[8]|128,v.Buffer.from(e)},e.isValid=function(t){if(!t)return!1;if(t instanceof e)return!0;if("string"==typeof t)return ee.uuidValidateString(t);if(Z.isUint8Array(t)){if(16!==t.length)return!1;try{return parseInt(t[6].toString(16)[0],10)===re.Binary.SUBTYPE_UUID}catch(e){return!1}}return!1},e.createFromHexString=function(t){return new e(ee.uuidHexStringToBuffer(t))},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new UUID("'+this.toHexString()+'")'},e}();t.UUID=n,Object.defineProperty(n.prototype,"_bsontype",{value:"UUID"})}));o(te),te.UUID;var re=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Binary=void 0;var r=function(){function e(t,r){if(!(this instanceof e))return new e(t,r);if(!(null==t||"string"==typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||Array.isArray(t)))throw new TypeError("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=null!=r?r:e.BSON_BINARY_SUBTYPE_DEFAULT,null==t?(this.buffer=v.Buffer.alloc(e.BUFFER_SIZE),this.position=0):("string"==typeof t?this.buffer=v.Buffer.from(t,"binary"):Array.isArray(t)?this.buffer=v.Buffer.from(t):this.buffer=Q.ensureBuffer(t),this.position=this.buffer.byteLength)}return e.prototype.put=function(t){if("string"==typeof t&&1!==t.length)throw new TypeError("only accepts single character String");if("number"!=typeof t&&1!==t.length)throw new TypeError("only accepts single character Uint8Array or Array");var r;if((r="string"==typeof t?t.charCodeAt(0):"number"==typeof t?t:t[0])<0||r>255)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=r;else{var n=v.Buffer.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n,this.buffer[this.position++]=r}},e.prototype.write=function(e,t){if(t="number"==typeof t?t:this.position,this.buffer.length<t+e.length){var r=v.Buffer.alloc(this.buffer.length+e.length);this.buffer.copy(r,0,0,this.buffer.length),this.buffer=r}ArrayBuffer.isView(e)?(this.buffer.set(Q.ensureBuffer(e),t),this.position=t+e.byteLength>this.position?t+e.length:this.position):"string"==typeof e&&(this.buffer.write(e,t,e.length,"binary"),this.position=t+e.length>this.position?t+e.length:this.position)},e.prototype.read=function(e,t){return t=t&&t>0?t:this.position,this.buffer.slice(e,e+t)},e.prototype.value=function(e){return(e=!!e)&&this.buffer.length===this.position?this.buffer:e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},e.prototype.length=function(){return this.position},e.prototype.toJSON=function(){return this.buffer.toString("base64")},e.prototype.toString=function(e){return this.buffer.toString(e)},e.prototype.toExtendedJSON=function(e){e=e||{};var t=this.buffer.toString("base64"),r=Number(this.sub_type).toString(16);return e.legacy?{$binary:t,$type:1===r.length?"0"+r:r}:{$binary:{base64:t,subType:1===r.length?"0"+r:r}}},e.prototype.toUUID=function(){if(this.sub_type===e.SUBTYPE_UUID)return new te.UUID(this.buffer.slice(0,this.position));throw new Error('Binary sub_type "'+this.sub_type+'" is not supported for converting to UUID. Only "'+e.SUBTYPE_UUID+'" is currently supported.')},e.fromExtendedJSON=function(t,r){var n,i;if(r=r||{},"$binary"in t?r.legacy&&"string"==typeof t.$binary&&"$type"in t?(i=t.$type?parseInt(t.$type,16):0,n=v.Buffer.from(t.$binary,"base64")):"string"!=typeof t.$binary&&(i=t.$binary.subType?parseInt(t.$binary.subType,16):0,n=v.Buffer.from(t.$binary.base64,"base64")):"$uuid"in t&&(i=4,n=ee.uuidHexStringToBuffer(t.$uuid)),!n)throw new TypeError("Unexpected Binary Extended JSON format "+JSON.stringify(t));return new e(n,i)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Binary(Buffer.from("'+this.value(!0).toString("hex")+'", "hex"), '+this.sub_type+")"},e.BSON_BINARY_SUBTYPE_DEFAULT=0,e.BUFFER_SIZE=256,e.SUBTYPE_DEFAULT=0,e.SUBTYPE_FUNCTION=1,e.SUBTYPE_BYTE_ARRAY=2,e.SUBTYPE_UUID_OLD=3,e.SUBTYPE_UUID=4,e.SUBTYPE_MD5=5,e.SUBTYPE_USER_DEFINED=128,e}();t.Binary=r,Object.defineProperty(r.prototype,"_bsontype",{value:"Binary"})}));o(re),re.Binary;var ne=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Code=void 0;var r=function(){function e(t,r){if(!(this instanceof e))return new e(t,r);this.code=t,this.scope=r}return e.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},e.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},e.fromExtendedJSON=function(t){return new e(t.$code,t.$scope)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var e=this.toJSON();return'new Code("'+e.code+'"'+(e.scope?", "+JSON.stringify(e.scope):"")+")"},e}();t.Code=r,Object.defineProperty(r.prototype,"_bsontype",{value:"Code"})}));o(ne),ne.Code;var ie=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DBRef=t.isDBRefLike=void 0,t.isDBRefLike=function(e){return Z.isObjectLike(e)&&null!=e.$id&&null!=e.$ref};var r=function(){function e(t,r,n,i){if(!(this instanceof e))return new e(t,r,n,i);var o=t.split(".");2===o.length&&(n=o.shift(),t=o.shift()),this.collection=t,this.oid=r,this.db=n,this.fields=i||{}}return Object.defineProperty(e.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e},e.prototype.toExtendedJSON=function(e){e=e||{};var t={$ref:this.collection,$id:this.oid};return e.legacy?t:(this.db&&(t.$db=this.db),t=Object.assign(t,this.fields))},e.fromExtendedJSON=function(t){var r=Object.assign({},t);return delete r.$ref,delete r.$id,delete r.$db,new e(t.$ref,t.$id,t.$db,r)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var e=void 0===this.oid||void 0===this.oid.toString?this.oid:this.oid.toString();return'new DBRef("'+this.namespace+'", new ObjectId("'+e+'")'+(this.db?', "'+this.db+'"':"")+")"},e}();t.DBRef=r,Object.defineProperty(r.prototype,"_bsontype",{value:"DBRef"})}));o(ie),ie.DBRef,ie.isDBRefLike;var oe=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Long=void 0;var r=void 0;try{r=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}var n={},i={},o=function(){function e(t,r,n){if(void 0===t&&(t=0),!(this instanceof e))return new e(t,r,n);"bigint"==typeof t?Object.assign(this,e.fromBigInt(t,!!r)):"string"==typeof t?Object.assign(this,e.fromString(t,!!r)):(this.low=0|t,this.high=0|r,this.unsigned=!!n),Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return e.fromBits=function(t,r,n){return new e(t,r,n)},e.fromInt=function(t,r){var o,s,a;return r?(a=0<=(t>>>=0)&&t<256)&&(s=i[t])?s:(o=e.fromBits(t,(0|t)<0?-1:0,!0),a&&(i[t]=o),o):(a=-128<=(t|=0)&&t<128)&&(s=n[t])?s:(o=e.fromBits(t,t<0?-1:0,!1),a&&(n[t]=o),o)},e.fromNumber=function(t,r){if(isNaN(t))return r?e.UZERO:e.ZERO;if(r){if(t<0)return e.UZERO;if(t>=0x10000000000000000)return e.MAX_UNSIGNED_VALUE}else{if(t<=-0x8000000000000000)return e.MIN_VALUE;if(t+1>=0x8000000000000000)return e.MAX_VALUE}return t<0?e.fromNumber(-t,r).neg():e.fromBits(t%4294967296|0,t/4294967296|0,r)},e.fromBigInt=function(t,r){return e.fromString(t.toString(),r)},e.fromString=function(t,r,n){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e.ZERO;if("number"==typeof r?(n=r,r=!1):r=!!r,(n=n||10)<2||36<n)throw RangeError("radix");var i;if((i=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return e.fromString(t.substring(1),r,n).neg();for(var o=e.fromNumber(Math.pow(n,8)),s=e.ZERO,a=0;a<t.length;a+=8){var u=Math.min(8,t.length-a),f=parseInt(t.substring(a,a+u),n);if(u<8){var c=e.fromNumber(Math.pow(n,u));s=s.mul(c).add(e.fromNumber(f))}else s=(s=s.mul(o)).add(e.fromNumber(f))}return s.unsigned=r,s},e.fromBytes=function(t,r,n){return n?e.fromBytesLE(t,r):e.fromBytesBE(t,r)},e.fromBytesLE=function(t,r){return new e(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,r)},e.fromBytesBE=function(t,r){return new e(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],r)},e.isLong=function(e){return Z.isObjectLike(e)&&!0===e.__isLong__},e.fromValue=function(t,r){return"number"==typeof t?e.fromNumber(t,r):"string"==typeof t?e.fromString(t,r):e.fromBits(t.low,t.high,"boolean"==typeof r?r:t.unsigned)},e.prototype.add=function(t){e.isLong(t)||(t=e.fromValue(t));var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,o=65535&this.low,s=t.high>>>16,a=65535&t.high,u=t.low>>>16,f=0,c=0,h=0,l=0;return h+=(l+=o+(65535&t.low))>>>16,l&=65535,c+=(h+=i+u)>>>16,h&=65535,f+=(c+=n+a)>>>16,c&=65535,f+=r+s,f&=65535,e.fromBits(h<<16|l,f<<16|c,this.unsigned)},e.prototype.and=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low&t.low,this.high&t.high,this.unsigned)},e.prototype.compare=function(t){if(e.isLong(t)||(t=e.fromValue(t)),this.eq(t))return 0;var r=this.isNegative(),n=t.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},e.prototype.comp=function(e){return this.compare(e)},e.prototype.divide=function(t){if(e.isLong(t)||(t=e.fromValue(t)),t.isZero())throw Error("division by zero");if(r){if(!this.unsigned&&-2147483648===this.high&&-1===t.low&&-1===t.high)return this;var n=(this.unsigned?r.div_u:r.div_s)(this.low,this.high,t.low,t.high);return e.fromBits(n,r.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?e.UZERO:e.ZERO;var i,o,s;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return e.UZERO;if(t.gt(this.shru(1)))return e.UONE;s=e.UZERO}else{if(this.eq(e.MIN_VALUE))return t.eq(e.ONE)||t.eq(e.NEG_ONE)?e.MIN_VALUE:t.eq(e.MIN_VALUE)?e.ONE:(i=this.shr(1).div(t).shl(1)).eq(e.ZERO)?t.isNegative()?e.ONE:e.NEG_ONE:(o=this.sub(t.mul(i)),s=i.add(o.div(t)));if(t.eq(e.MIN_VALUE))return this.unsigned?e.UZERO:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();s=e.ZERO}for(o=this;o.gte(t);){i=Math.max(1,Math.floor(o.toNumber()/t.toNumber()));for(var a=Math.ceil(Math.log(i)/Math.LN2),u=a<=48?1:Math.pow(2,a-48),f=e.fromNumber(i),c=f.mul(t);c.isNegative()||c.gt(o);)i-=u,c=(f=e.fromNumber(i,this.unsigned)).mul(t);f.isZero()&&(f=e.ONE),s=s.add(f),o=o.sub(c)}return s},e.prototype.div=function(e){return this.divide(e)},e.prototype.equals=function(t){return e.isLong(t)||(t=e.fromValue(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},e.prototype.eq=function(e){return this.equals(e)},e.prototype.getHighBits=function(){return this.high},e.prototype.getHighBitsUnsigned=function(){return this.high>>>0},e.prototype.getLowBits=function(){return this.low},e.prototype.getLowBitsUnsigned=function(){return this.low>>>0},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(e.MIN_VALUE)?64:this.neg().getNumBitsAbs();var t,r=0!==this.high?this.high:this.low;for(t=31;t>0&&0==(r&1<<t);t--);return 0!==this.high?t+33:t+1},e.prototype.greaterThan=function(e){return this.comp(e)>0},e.prototype.gt=function(e){return this.greaterThan(e)},e.prototype.greaterThanOrEqual=function(e){return this.comp(e)>=0},e.prototype.gte=function(e){return this.greaterThanOrEqual(e)},e.prototype.ge=function(e){return this.greaterThanOrEqual(e)},e.prototype.isEven=function(){return 0==(1&this.low)},e.prototype.isNegative=function(){return!this.unsigned&&this.high<0},e.prototype.isOdd=function(){return 1==(1&this.low)},e.prototype.isPositive=function(){return this.unsigned||this.high>=0},e.prototype.isZero=function(){return 0===this.high&&0===this.low},e.prototype.lessThan=function(e){return this.comp(e)<0},e.prototype.lt=function(e){return this.lessThan(e)},e.prototype.lessThanOrEqual=function(e){return this.comp(e)<=0},e.prototype.lte=function(e){return this.lessThanOrEqual(e)},e.prototype.modulo=function(t){if(e.isLong(t)||(t=e.fromValue(t)),r){var n=(this.unsigned?r.rem_u:r.rem_s)(this.low,this.high,t.low,t.high);return e.fromBits(n,r.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))},e.prototype.mod=function(e){return this.modulo(e)},e.prototype.rem=function(e){return this.modulo(e)},e.prototype.multiply=function(t){if(this.isZero())return e.ZERO;if(e.isLong(t)||(t=e.fromValue(t)),r){var n=r.mul(this.low,this.high,t.low,t.high);return e.fromBits(n,r.get_high(),this.unsigned)}if(t.isZero())return e.ZERO;if(this.eq(e.MIN_VALUE))return t.isOdd()?e.MIN_VALUE:e.ZERO;if(t.eq(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(e.TWO_PWR_24)&&t.lt(e.TWO_PWR_24))return e.fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var i=this.high>>>16,o=65535&this.high,s=this.low>>>16,a=65535&this.low,u=t.high>>>16,f=65535&t.high,c=t.low>>>16,h=65535&t.low,l=0,p=0,d=0,g=0;return d+=(g+=a*h)>>>16,g&=65535,p+=(d+=s*h)>>>16,d&=65535,p+=(d+=a*c)>>>16,d&=65535,l+=(p+=o*h)>>>16,p&=65535,l+=(p+=s*c)>>>16,p&=65535,l+=(p+=a*f)>>>16,p&=65535,l+=i*h+o*c+s*f+a*u,l&=65535,e.fromBits(d<<16|g,l<<16|p,this.unsigned)},e.prototype.mul=function(e){return this.multiply(e)},e.prototype.negate=function(){return!this.unsigned&&this.eq(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.neg=function(){return this.negate()},e.prototype.not=function(){return e.fromBits(~this.low,~this.high,this.unsigned)},e.prototype.notEquals=function(e){return!this.equals(e)},e.prototype.neq=function(e){return this.notEquals(e)},e.prototype.ne=function(e){return this.notEquals(e)},e.prototype.or=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low|t.low,this.high|t.high,this.unsigned)},e.prototype.shiftLeft=function(t){return e.isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?e.fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):e.fromBits(0,this.low<<t-32,this.unsigned)},e.prototype.shl=function(e){return this.shiftLeft(e)},e.prototype.shiftRight=function(t){return e.isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?e.fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):e.fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},e.prototype.shr=function(e){return this.shiftRight(e)},e.prototype.shiftRightUnsigned=function(t){if(e.isLong(t)&&(t=t.toInt()),0===(t&=63))return this;var r=this.high;if(t<32){var n=this.low;return e.fromBits(n>>>t|r<<32-t,r>>>t,this.unsigned)}return 32===t?e.fromBits(r,0,this.unsigned):e.fromBits(r>>>t-32,0,this.unsigned)},e.prototype.shr_u=function(e){return this.shiftRightUnsigned(e)},e.prototype.shru=function(e){return this.shiftRightUnsigned(e)},e.prototype.subtract=function(t){return e.isLong(t)||(t=e.fromValue(t)),this.add(t.neg())},e.prototype.sub=function(e){return this.subtract(e)},e.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},e.prototype.toNumber=function(){return this.unsigned?4294967296*(this.high>>>0)+(this.low>>>0):4294967296*this.high+(this.low>>>0)},e.prototype.toBigInt=function(){return BigInt(this.toString())},e.prototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},e.prototype.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},e.prototype.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},e.prototype.toSigned=function(){return this.unsigned?e.fromBits(this.low,this.high,!1):this},e.prototype.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(e.MIN_VALUE)){var r=e.fromNumber(t),n=this.div(r),i=n.mul(r).sub(this);return n.toString(t)+i.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var o=e.fromNumber(Math.pow(t,6),this.unsigned),s=this,a="";;){var u=s.div(o),f=(s.sub(u.mul(o)).toInt()>>>0).toString(t);if((s=u).isZero())return f+a;for(;f.length<6;)f="0"+f;a=""+f+a}},e.prototype.toUnsigned=function(){return this.unsigned?this:e.fromBits(this.low,this.high,!0)},e.prototype.xor=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low^t.low,this.high^t.high,this.unsigned)},e.prototype.eqz=function(){return this.isZero()},e.prototype.le=function(e){return this.lessThanOrEqual(e)},e.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},e.fromExtendedJSON=function(t,r){var n=e.fromString(t.$numberLong);return r&&r.relaxed?n.toNumber():n},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Long("'+this.toString()+'"'+(this.unsigned?", true":"")+")"},e.TWO_PWR_24=e.fromInt(1<<24),e.MAX_UNSIGNED_VALUE=e.fromBits(-1,-1,!0),e.ZERO=e.fromInt(0),e.UZERO=e.fromInt(0,!0),e.ONE=e.fromInt(1),e.UONE=e.fromInt(1,!0),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,2147483647,!1),e.MIN_VALUE=e.fromBits(0,-2147483648,!1),e}();t.Long=o,Object.defineProperty(o.prototype,"__isLong__",{value:!0}),Object.defineProperty(o.prototype,"_bsontype",{value:"Long"})}));o(oe),oe.Long;var se=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Decimal128=void 0;var r=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,n=/^(\+|-)?(Infinity|inf)$/i,i=/^(\+|-)?NaN$/i,o=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),s=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),a=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),u=/^([-+])?(\d+)?$/;function f(e){return!isNaN(parseInt(e,10))}function c(e){var t=oe.Long.fromNumber(1e9),r=oe.Long.fromNumber(0);if(!(e.parts[0]||e.parts[1]||e.parts[2]||e.parts[3]))return{quotient:e,rem:r};for(var n=0;n<=3;n++)r=(r=r.shiftLeft(32)).add(new oe.Long(e.parts[n],0)),e.parts[n]=r.div(t).low,r=r.modulo(t);return{quotient:e,rem:r}}function h(e,t){throw new TypeError('"'+e+'" is not a valid Decimal128 string - '+t)}var l=function(){function e(t){if(!(this instanceof e))return new e(t);this.bytes="string"==typeof t?e.fromString(t).bytes:t}return e.fromString=function(t){var c,l=!1,p=!1,d=!1,g=0,y=0,b=0,_=0,m=0,w=[0],A=0,B=0,O=0,S=0,E=0,N=0,T=new oe.Long(0,0),I=new oe.Long(0,0),D=0;if(t.length>=7e3)throw new TypeError(t+" not a valid Decimal128 string");var x=t.match(r),U=t.match(n),R=t.match(i);if(!x&&!U&&!R||0===t.length)throw new TypeError(t+" not a valid Decimal128 string");if(x){var P=x[2],L=x[4],j=x[5],M=x[6];L&&void 0===M&&h(t,"missing exponent power"),L&&void 0===P&&h(t,"missing exponent base"),void 0===L&&(j||M)&&h(t,"missing e before exponent")}if("+"!==t[D]&&"-"!==t[D]||(l="-"===t[D++]),!f(t[D])&&"."!==t[D]){if("i"===t[D]||"I"===t[D])return new e(v.Buffer.from(l?s:a));if("N"===t[D])return new e(v.Buffer.from(o))}for(;f(t[D])||"."===t[D];)"."!==t[D]?(A<34&&("0"!==t[D]||d)&&(d||(m=y),d=!0,w[B++]=parseInt(t[D],10),A+=1),d&&(b+=1),p&&(_+=1),y+=1,D+=1):(p&&h(t,"contains multiple periods"),p=!0,D+=1);if(p&&!y)throw new TypeError(t+" not a valid Decimal128 string");if("e"===t[D]||"E"===t[D]){var k=t.substr(++D).match(u);if(!k||!k[2])return new e(v.Buffer.from(o));E=parseInt(k[0],10),D+=k[0].length}if(t[D])return new e(v.Buffer.from(o));if(O=0,A){if(S=A-1,1!==(g=b))for(;"0"===t[m+g-1];)g-=1}else O=0,S=0,w[0]=0,b=1,A=1,g=0;for(E<=_&&_-E>16384?E=-6176:E-=_;E>6111;){if((S+=1)-O>34){if(w.join("").match(/^0+$/)){E=6111;break}h(t,"overflow")}E-=1}for(;E<-6176||A<b;){if(0===S&&g<A){E=-6176,g=0;break}if(A<b?b-=1:S-=1,E<6111)E+=1;else{if(w.join("").match(/^0+$/)){E=6111;break}h(t,"overflow")}}if(S-O+1<g){var C=y;p&&(m+=1,C+=1),l&&(m+=1,C+=1);var Y=parseInt(t[m+S+1],10),$=0;if(Y>=5&&($=1,5===Y))for($=w[S]%2==1?1:0,N=m+S+2;N<C;N++)if(parseInt(t[N],10)){$=1;break}if($)for(var F=S;F>=0;F--)if(++w[F]>9&&(w[F]=0,0===F)){if(!(E<6111))return new e(v.Buffer.from(l?s:a));E+=1,w[F]=1}}if(T=oe.Long.fromNumber(0),I=oe.Long.fromNumber(0),0===g)T=oe.Long.fromNumber(0),I=oe.Long.fromNumber(0);else if(S-O<17){F=O;for(I=oe.Long.fromNumber(w[F++]),T=new oe.Long(0,0);F<=S;F++)I=(I=I.multiply(oe.Long.fromNumber(10))).add(oe.Long.fromNumber(w[F]))}else{F=O;for(T=oe.Long.fromNumber(w[F++]);F<=S-17;F++)T=(T=T.multiply(oe.Long.fromNumber(10))).add(oe.Long.fromNumber(w[F]));for(I=oe.Long.fromNumber(w[F++]);F<=S;F++)I=(I=I.multiply(oe.Long.fromNumber(10))).add(oe.Long.fromNumber(w[F]))}var J,z,W,V,H=function(e,t){if(!e&&!t)return{high:oe.Long.fromNumber(0),low:oe.Long.fromNumber(0)};var r=e.shiftRightUnsigned(32),n=new oe.Long(e.getLowBits(),0),i=t.shiftRightUnsigned(32),o=new oe.Long(t.getLowBits(),0),s=r.multiply(i),a=r.multiply(o),u=n.multiply(i),f=n.multiply(o);return s=s.add(a.shiftRightUnsigned(32)),a=new oe.Long(a.getLowBits(),0).add(u).add(f.shiftRightUnsigned(32)),{high:s=s.add(a.shiftRightUnsigned(32)),low:f=a.shiftLeft(32).add(new oe.Long(f.getLowBits(),0))}}(T,oe.Long.fromString("100000000000000000"));H.low=H.low.add(I),J=H.low,z=I,W=J.high>>>0,V=z.high>>>0,(W<V||W===V&&J.low>>>0<z.low>>>0)&&(H.high=H.high.add(oe.Long.fromNumber(1))),c=E+6176;var K={low:oe.Long.fromNumber(0),high:oe.Long.fromNumber(0)};H.high.shiftRightUnsigned(49).and(oe.Long.fromNumber(1)).equals(oe.Long.fromNumber(1))?(K.high=K.high.or(oe.Long.fromNumber(3).shiftLeft(61)),K.high=K.high.or(oe.Long.fromNumber(c).and(oe.Long.fromNumber(16383).shiftLeft(47))),K.high=K.high.or(H.high.and(oe.Long.fromNumber(0x7fffffffffff)))):(K.high=K.high.or(oe.Long.fromNumber(16383&c).shiftLeft(49)),K.high=K.high.or(H.high.and(oe.Long.fromNumber(562949953421311)))),K.low=H.low,l&&(K.high=K.high.or(oe.Long.fromString("9223372036854775808")));var q=v.Buffer.alloc(16);return D=0,q[D++]=255&K.low.low,q[D++]=K.low.low>>8&255,q[D++]=K.low.low>>16&255,q[D++]=K.low.low>>24&255,q[D++]=255&K.low.high,q[D++]=K.low.high>>8&255,q[D++]=K.low.high>>16&255,q[D++]=K.low.high>>24&255,q[D++]=255&K.high.low,q[D++]=K.high.low>>8&255,q[D++]=K.high.low>>16&255,q[D++]=K.high.low>>24&255,q[D++]=255&K.high.high,q[D++]=K.high.high>>8&255,q[D++]=K.high.high>>16&255,q[D++]=K.high.high>>24&255,new e(q)},e.prototype.toString=function(){for(var e,t=0,r=new Array(36),n=0;n<r.length;n++)r[n]=0;var i,o,s,a=0,u=!1,f={parts:[0,0,0,0]},h=[];a=0;var l=this.bytes,p=l[a++]|l[a++]<<8|l[a++]<<16|l[a++]<<24,d=l[a++]|l[a++]<<8|l[a++]<<16|l[a++]<<24,g=l[a++]|l[a++]<<8|l[a++]<<16|l[a++]<<24,y=l[a++]|l[a++]<<8|l[a++]<<16|l[a++]<<24;a=0,{low:new oe.Long(p,d),high:new oe.Long(g,y)}.high.lessThan(oe.Long.ZERO)&&h.push("-");var b=y>>26&31;if(b>>3==3){if(30===b)return h.join("")+"Infinity";if(31===b)return"NaN";e=y>>15&16383,i=8+(y>>14&1)}else i=y>>14&7,e=y>>17&16383;var _=e-6176;if(f.parts[0]=(16383&y)+((15&i)<<14),f.parts[1]=g,f.parts[2]=d,f.parts[3]=p,0===f.parts[0]&&0===f.parts[1]&&0===f.parts[2]&&0===f.parts[3])u=!0;else for(s=3;s>=0;s--){var m=0,w=c(f);if(f=w.quotient,m=w.rem.low)for(o=8;o>=0;o--)r[9*s+o]=m%10,m=Math.floor(m/10)}if(u)t=1,r[a]=0;else for(t=36;!r[a];)t-=1,a+=1;var v=t-1+_;if(v>=34||v<=-7||_>0){if(t>34)return h.push("0"),_>0?h.push("E+"+_):_<0&&h.push("E"+_),h.join("");h.push(""+r[a++]),(t-=1)&&h.push(".");for(n=0;n<t;n++)h.push(""+r[a++]);h.push("E"),v>0?h.push("+"+v):h.push(""+v)}else if(_>=0)for(n=0;n<t;n++)h.push(""+r[a++]);else{var A=t+_;if(A>0)for(n=0;n<A;n++)h.push(""+r[a++]);else h.push("0");for(h.push(".");A++<0;)h.push("0");for(n=0;n<t-Math.max(A-1,0);n++)h.push(""+r[a++])}return h.join("")},e.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},e.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},e.fromExtendedJSON=function(t){return e.fromString(t.$numberDecimal)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Decimal128("'+this.toString()+'")'},e}();t.Decimal128=l,Object.defineProperty(l.prototype,"_bsontype",{value:"Decimal128"})}));o(se),se.Decimal128;var ae=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Double=void 0;var r=function(){function e(t){if(!(this instanceof e))return new e(t);t instanceof Number&&(t=t.valueOf()),this.value=+t}return e.prototype.valueOf=function(){return this.value},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-"+this.value.toFixed(1)}:(Number.isInteger(this.value)?(t=this.value.toFixed(1)).length>=13&&(t=this.value.toExponential(13).toUpperCase()):t=this.value.toString(),{$numberDouble:t});var t},e.fromExtendedJSON=function(t,r){var n=parseFloat(t.$numberDouble);return r&&r.relaxed?n:new e(n)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Double("+this.toExtendedJSON().$numberDouble+")"},e}();t.Double=r,Object.defineProperty(r.prototype,"_bsontype",{value:"Double"})}));o(ae),ae.Double;var ue=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Int32=void 0;var r=function(){function e(t){if(!(this instanceof e))return new e(t);t instanceof Number&&(t=t.valueOf()),this.value=+t}return e.prototype.valueOf=function(){return this.value},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}},e.fromExtendedJSON=function(t,r){return r&&r.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Int32("+this.valueOf()+")"},e}();t.Int32=r,Object.defineProperty(r.prototype,"_bsontype",{value:"Int32"})}));o(ue),ue.Int32;var fe=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MaxKey=void 0;var r=function(){function e(){if(!(this instanceof e))return new e}return e.prototype.toExtendedJSON=function(){return{$maxKey:1}},e.fromExtendedJSON=function(){return new e},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new MaxKey()"},e}();t.MaxKey=r,Object.defineProperty(r.prototype,"_bsontype",{value:"MaxKey"})}));o(fe),fe.MaxKey;var ce=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MinKey=void 0;var r=function(){function e(){if(!(this instanceof e))return new e}return e.prototype.toExtendedJSON=function(){return{$minKey:1}},e.fromExtendedJSON=function(){return new e},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new MinKey()"},e}();t.MinKey=r,Object.defineProperty(r.prototype,"_bsontype",{value:"MinKey"})}));o(ce),ce.MinKey;var he=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectId=void 0;var r=new RegExp("^[0-9a-fA-F]{24}$"),n=null,i=Symbol("id"),o=function(){function e(t){if(!(this instanceof e))return new e(t);if(t instanceof e&&(this[i]=t.id,this.__id=t.__id),"object"==typeof t&&t&&"id"in t&&("toHexString"in t&&"function"==typeof t.toHexString?this[i]=v.Buffer.from(t.toHexString(),"hex"):this[i]="string"==typeof t.id?v.Buffer.from(t.id):t.id),null!=t&&"number"!=typeof t||(this[i]=e.generate("number"==typeof t?t:void 0),e.cacheHexString&&(this.__id=this.id.toString("hex"))),ArrayBuffer.isView(t)&&12===t.byteLength&&(this[i]=Q.ensureBuffer(t)),"string"==typeof t)if(12===t.length){var n=v.Buffer.from(t);12===n.byteLength&&(this[i]=n)}else{if(24!==t.length||!r.test(t))throw new TypeError("Argument passed in must be a Buffer or string of 12 bytes or a string of 24 hex characters");this[i]=v.Buffer.from(t,"hex")}e.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(e.prototype,"id",{get:function(){return this[i]},set:function(t){this[i]=t,e.cacheHexString&&(this.__id=t.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(e){this.id.writeUInt32BE(e,0)},enumerable:!1,configurable:!0}),e.prototype.toHexString=function(){if(e.cacheHexString&&this.__id)return this.__id;var t=this.id.toString("hex");return e.cacheHexString&&!this.__id&&(this.__id=t),t},e.getInc=function(){return e.index=(e.index+1)%16777215},e.generate=function(t){"number"!=typeof t&&(t=~~(Date.now()/1e3));var r=e.getInc(),i=v.Buffer.alloc(12);return i.writeUInt32BE(t,0),null===n&&(n=Z.randomBytes(5)),i[4]=n[0],i[5]=n[1],i[6]=n[2],i[7]=n[3],i[8]=n[4],i[11]=255&r,i[10]=r>>8&255,i[9]=r>>16&255,i},e.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},e.prototype.toJSON=function(){return this.toHexString()},e.prototype.equals=function(t){return null!=t&&(t instanceof e?this.toString()===t.toString():"string"==typeof t&&e.isValid(t)&&12===t.length&&Z.isUint8Array(this.id)?t===v.Buffer.prototype.toString.call(this.id,"latin1"):"string"==typeof t&&e.isValid(t)&&24===t.length?t.toLowerCase()===this.toHexString():"string"==typeof t&&e.isValid(t)&&12===t.length?v.Buffer.from(t).equals(this.id):"object"==typeof t&&"toHexString"in t&&"function"==typeof t.toHexString&&t.toHexString()===this.toHexString())},e.prototype.getTimestamp=function(){var e=new Date,t=this.id.readUInt32BE(0);return e.setTime(1e3*Math.floor(t)),e},e.createPk=function(){return new e},e.createFromTime=function(t){var r=v.Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0]);return r.writeUInt32BE(t,0),new e(r)},e.createFromHexString=function(t){if(void 0===t||null!=t&&24!==t.length)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new e(v.Buffer.from(t,"hex"))},e.isValid=function(t){return null!=t&&("number"==typeof t||("string"==typeof t?12===t.length||24===t.length&&r.test(t):t instanceof e||(!(!Z.isUint8Array(t)||12!==t.length)||"object"==typeof t&&"toHexString"in t&&"function"==typeof t.toHexString&&("string"==typeof t.id?12===t.id.length:24===t.toHexString().length&&r.test(t.id.toString("hex"))))))},e.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},e.fromExtendedJSON=function(t){return new e(t.$oid)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new ObjectId("'+this.toHexString()+'")'},e.index=~~(16777215*Math.random()),e}();t.ObjectId=o,Object.defineProperty(o.prototype,"generate",{value:Z.deprecate((function(e){return o.generate(e)}),"Please use the static `ObjectId.generate(time)` instead")}),Object.defineProperty(o.prototype,"getInc",{value:Z.deprecate((function(){return o.getInc()}),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(o.prototype,"get_inc",{value:Z.deprecate((function(){return o.getInc()}),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(o,"get_inc",{value:Z.deprecate((function(){return o.getInc()}),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(o.prototype,"_bsontype",{value:"ObjectID"})}));o(he),he.ObjectId;var le=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BSONRegExp=void 0;var r=function(){function e(t,r){if(!(this instanceof e))return new e(t,r);this.pattern=t,this.options=null!=r?r:"",this.options.split("").sort().join("");for(var n=0;n<this.options.length;n++)if("i"!==this.options[n]&&"m"!==this.options[n]&&"x"!==this.options[n]&&"l"!==this.options[n]&&"s"!==this.options[n]&&"u"!==this.options[n])throw new Error("The regular expression option ["+this.options[n]+"] is not supported")}return e.parseOptions=function(e){return e?e.split("").sort().join(""):""},e.prototype.toExtendedJSON=function(e){return(e=e||{}).legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},e.fromExtendedJSON=function(t){if("$regex"in t){if("string"==typeof t.$regex)return new e(t.$regex,e.parseOptions(t.$options));if("BSONRegExp"===t.$regex._bsontype)return t}if("$regularExpression"in t)return new e(t.$regularExpression.pattern,e.parseOptions(t.$regularExpression.options));throw new TypeError("Unexpected BSONRegExp EJSON object form: "+JSON.stringify(t))},e}();t.BSONRegExp=r,Object.defineProperty(r.prototype,"_bsontype",{value:"BSONRegExp"})}));o(le),le.BSONRegExp;var pe=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BSONSymbol=void 0;var r=function(){function e(t){if(!(this instanceof e))return new e(t);this.value=t}return e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(){return this.value},e.prototype.inspect=function(){return'new BSONSymbol("'+this.value+'")'},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(){return{$symbol:this.value}},e.fromExtendedJSON=function(t){return new e(t.$symbol)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e}();t.BSONSymbol=r,Object.defineProperty(r.prototype,"_bsontype",{value:"Symbol"})}));o(pe),pe.BSONSymbol;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var de=function(e,t){return(de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var ge=function(){return(ge=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function ye(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function be(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function _e(e){return this instanceof _e?(this.v=e,this):new _e(e)}var me=Object.freeze({__proto__:null,__extends:function(e,t){function r(){this.constructor=e}de(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},get __assign(){return ge},__rest:function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},__decorate:function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":babelHelpers.typeof(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__param:function(e,t){return function(r,n){t(r,n,e)}},__metadata:function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":babelHelpers.typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},__generator:function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},__createBinding:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},__exportStar:function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])},__values:ye,__read:be,__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(be(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},__await:_e,__asyncGenerator:function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=i[e](t)).value instanceof _e?Promise.resolve(r.value.v).then(u,f):c(o[0][2],r)}catch(e){c(o[0][3],e)}var r}function u(e){a("next",e)}function f(e){a("throw",e)}function c(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},__asyncDelegator:function(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:_e(e[n](t)),done:"return"===n}:i?i(t):t}:i}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=ye(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}}),we=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Timestamp=t.LongWithoutOverridesClass=void 0,t.LongWithoutOverridesClass=oe.Long;var r=function(e){function t(r,n){var i=this;return i instanceof t?(i=oe.Long.isLong(r)?e.call(this,r.low,r.high,!0)||this:e.call(this,r,n,!0)||this,Object.defineProperty(i,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),i):new t(r,n)}return me.__extends(t,e),t.prototype.toJSON=function(){return{$timestamp:this.toString()}},t.fromInt=function(e){return new t(oe.Long.fromInt(e,!0))},t.fromNumber=function(e){return new t(oe.Long.fromNumber(e,!0))},t.fromBits=function(e,r){return new t(e,r)},t.fromString=function(e,r){return new t(oe.Long.fromString(e,!0,r))},t.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},t.fromExtendedJSON=function(e){return new t(e.$timestamp.i,e.$timestamp.t)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Timestamp("+this.getLowBits().toString()+", "+this.getHighBits().toString()+")"},t.MAX_VALUE=oe.Long.MAX_UNSIGNED_VALUE,t}(t.LongWithoutOverridesClass);t.Timestamp=r}));o(we),we.Timestamp,we.LongWithoutOverridesClass;var ve=s((function(e,t){function r(e){return Z.isObjectLike(e)&&Reflect.has(e,"_bsontype")&&"string"==typeof e._bsontype}Object.defineProperty(t,"__esModule",{value:!0}),t.EJSON=t.isBSONType=void 0,t.isBSONType=r;var n={$oid:he.ObjectId,$binary:re.Binary,$uuid:re.Binary,$symbol:pe.BSONSymbol,$numberInt:ue.Int32,$numberDecimal:se.Decimal128,$numberDouble:ae.Double,$numberLong:oe.Long,$minKey:ce.MinKey,$maxKey:fe.MaxKey,$regex:le.BSONRegExp,$regularExpression:le.BSONRegExp,$timestamp:we.Timestamp};function i(e){var t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+"Z"}function o(e,t){if(("object"==typeof e||"function"==typeof e)&&null!==e){var n=t.seenObjects.findIndex((function(t){return t.obj===e}));if(-1!==n){var a=t.seenObjects.map((function(e){return e.propertyName})),u=a.slice(0,n).map((function(e){return e+" -> "})).join(""),f=a[n],c=" -> "+a.slice(n+1,a.length-1).map((function(e){return e+" -> "})).join(""),h=a[a.length-1],l=" ".repeat(u.length+f.length/2),p="-".repeat(c.length+(f.length+h.length)/2-1);throw new TypeError("Converting circular structure to EJSON:\n    "+u+f+c+h+"\n    "+l+"\\"+p+"/")}t.seenObjects[t.seenObjects.length-1].obj=e}if(Array.isArray(e))return function(e,t){return e.map((function(e,r){t.seenObjects.push({propertyName:"index "+r,obj:null});try{return o(e,t)}finally{t.seenObjects.pop()}}))}(e,t);if(void 0===e)return null;if(e instanceof Date||Z.isDate(e)){var d=e.getTime(),g=d>-1&&d<2534023188e5;return t.legacy?t.relaxed&&g?{$date:e.getTime()}:{$date:i(e)}:t.relaxed&&g?{$date:i(e)}:{$date:{$numberLong:e.getTime().toString()}}}if("number"==typeof e&&!t.relaxed){if(Math.floor(e)===e){var y=e>=-0x8000000000000000&&e<=0x8000000000000000;if(e>=-2147483648&&e<=2147483647)return{$numberInt:e.toString()};if(y)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp||Z.isRegExp(e)){var b=e.flags;if(void 0===b){var _=e.toString().match(/[gimuy]*$/);_&&(b=_[0])}return new le.BSONRegExp(e.source,b).toExtendedJSON(t)}return null!=e&&"object"==typeof e?function(e,t){if(null==e||"object"!=typeof e)throw new Error("not an object instance");var n=e._bsontype;if(void 0===n){var i={};for(var a in e){t.seenObjects.push({propertyName:a,obj:null});try{i[a]=o(e[a],t)}finally{t.seenObjects.pop()}}return i}if(r(e)){var u=e;if("function"!=typeof u.toExtendedJSON){var f=s[e._bsontype];if(!f)throw new TypeError("Unrecognized or invalid _bsontype: "+e._bsontype);u=f(u)}return"Code"===n&&u.scope?u=new ne.Code(u.code,o(u.scope,t)):"DBRef"===n&&u.oid&&(u=new ie.DBRef(u.collection,o(u.oid,t),u.db,u.fields)),u.toExtendedJSON(t)}throw new Error("_bsontype must be a string, but was: "+typeof n)}(e,t):e}var s={Binary:function(e){return new re.Binary(e.value(),e.sub_type)},Code:function(e){return new ne.Code(e.code,e.scope)},DBRef:function(e){return new ie.DBRef(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new se.Decimal128(e.bytes)},Double:function(e){return new ae.Double(e.value)},Int32:function(e){return new ue.Int32(e.value)},Long:function(e){return oe.Long.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_)},MaxKey:function(){return new fe.MaxKey},MinKey:function(){return new ce.MinKey},ObjectID:function(e){return new he.ObjectId(e)},ObjectId:function(e){return new he.ObjectId(e)},BSONRegExp:function(e){return new le.BSONRegExp(e.pattern,e.options)},Symbol:function(e){return new pe.BSONSymbol(e.value)},Timestamp:function(e){return we.Timestamp.fromBits(e.low,e.high)}};!function(e){function t(e,t){var r=Object.assign({},{relaxed:!0,legacy:!1},t);return"boolean"==typeof r.relaxed&&(r.strict=!r.relaxed),"boolean"==typeof r.strict&&(r.relaxed=!r.strict),JSON.parse(e,(function(e,t){return function e(t,r){if(void 0===r&&(r={}),"number"==typeof t){if(r.relaxed||r.legacy)return t;if(Math.floor(t)===t){if(t>=-2147483648&&t<=2147483647)return new ue.Int32(t);if(t>=-0x8000000000000000&&t<=0x8000000000000000)return oe.Long.fromNumber(t)}return new ae.Double(t)}if(null==t||"object"!=typeof t)return t;if(t.$undefined)return null;for(var i=Object.keys(t).filter((function(e){return e.startsWith("$")&&null!=t[e]})),o=0;o<i.length;o++){var s=n[i[o]];if(s)return s.fromExtendedJSON(t,r)}if(null!=t.$date){var a=t.$date,u=new Date;return r.legacy?"number"==typeof a?u.setTime(a):"string"==typeof a&&u.setTime(Date.parse(a)):"string"==typeof a?u.setTime(Date.parse(a)):oe.Long.isLong(a)?u.setTime(a.toNumber()):"number"==typeof a&&r.relaxed&&u.setTime(a),u}if(null!=t.$code){var f=Object.assign({},t);return t.$scope&&(f.$scope=e(t.$scope)),ne.Code.fromExtendedJSON(t)}if(null!=t.$ref||null!=t.$dbPointer){var c=t.$ref?t:t.$dbPointer;if(c instanceof ie.DBRef)return c;var h=Object.keys(c).filter((function(e){return e.startsWith("$")})),l=!0;if(h.forEach((function(e){-1===["$ref","$id","$db"].indexOf(e)&&(l=!1)})),l)return ie.DBRef.fromExtendedJSON(c)}return t}(t,r)}))}function r(e,t,r,n){null!=r&&"object"==typeof r&&(n=r,r=0),null==t||"object"!=typeof t||Array.isArray(t)||(n=t,t=void 0,r=0);var i=o(e,Object.assign({relaxed:!0,legacy:!1},n,{seenObjects:[{propertyName:"(root)",obj:null}]}));return JSON.stringify(i,t,r)}e.parse=t,e.stringify=r,e.serialize=function(e,t){return t=t||{},JSON.parse(r(e,t))},e.deserialize=function(e,r){return r=r||{},t(JSON.stringify(e),r)}}(t.EJSON||(t.EJSON={}))}));o(ve),ve.EJSON,ve.isBSONType;var Ae=s((function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Map=void 0,t.Map=r;var n=function(e){return e&&e.Math==Math&&e};var o=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof i&&i)||Function("return this")();Object.prototype.hasOwnProperty.call(o,"Map")?t.Map=r=o.Map:t.Map=r=function(){function e(e){void 0===e&&(e=[]),this._keys=[],this._values={};for(var t=0;t<e.length;t++)if(null!=e[t]){var r=e[t],n=r[0],i=r[1];this._keys.push(n),this._values[n]={v:i,i:this._keys.length-1}}}return e.prototype.clear=function(){this._keys=[],this._values={}},e.prototype.delete=function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)},e.prototype.entries=function(){var e=this,t=0;return{next:function(){var r=e._keys[t++];return{value:void 0!==r?[r,e._values[r].v]:void 0,done:void 0===r}}}},e.prototype.forEach=function(e,t){t=t||this;for(var r=0;r<this._keys.length;r++){var n=this._keys[r];e.call(t,this._values[n].v,n,t)}},e.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},e.prototype.has=function(e){return null!=this._values[e]},e.prototype.keys=function(){var e=this,t=0;return{next:function(){var r=e._keys[t++];return{value:void 0!==r?r:void 0,done:void 0===r}}}},e.prototype.set=function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)},e.prototype.values=function(){var e=this,t=0;return{next:function(){var r=e._keys[t++];return{value:void 0!==r?e._values[r].v:void 0,done:void 0===r}}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0}),e}()}));o(Ae),Ae.Map;var Be=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BSON_BINARY_SUBTYPE_USER_DEFINED=t.BSON_BINARY_SUBTYPE_MD5=t.BSON_BINARY_SUBTYPE_UUID_NEW=t.BSON_BINARY_SUBTYPE_UUID=t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=t.BSON_BINARY_SUBTYPE_FUNCTION=t.BSON_BINARY_SUBTYPE_DEFAULT=t.BSON_DATA_MAX_KEY=t.BSON_DATA_MIN_KEY=t.BSON_DATA_DECIMAL128=t.BSON_DATA_LONG=t.BSON_DATA_TIMESTAMP=t.BSON_DATA_INT=t.BSON_DATA_CODE_W_SCOPE=t.BSON_DATA_SYMBOL=t.BSON_DATA_CODE=t.BSON_DATA_DBPOINTER=t.BSON_DATA_REGEXP=t.BSON_DATA_NULL=t.BSON_DATA_DATE=t.BSON_DATA_BOOLEAN=t.BSON_DATA_OID=t.BSON_DATA_UNDEFINED=t.BSON_DATA_BINARY=t.BSON_DATA_ARRAY=t.BSON_DATA_OBJECT=t.BSON_DATA_STRING=t.BSON_DATA_NUMBER=t.JS_INT_MIN=t.JS_INT_MAX=t.BSON_INT64_MIN=t.BSON_INT64_MAX=t.BSON_INT32_MIN=t.BSON_INT32_MAX=void 0,t.BSON_INT32_MAX=2147483647,t.BSON_INT32_MIN=-2147483648,t.BSON_INT64_MAX=Math.pow(2,63)-1,t.BSON_INT64_MIN=-Math.pow(2,63),t.JS_INT_MAX=Math.pow(2,53),t.JS_INT_MIN=-Math.pow(2,53),t.BSON_DATA_NUMBER=1,t.BSON_DATA_STRING=2,t.BSON_DATA_OBJECT=3,t.BSON_DATA_ARRAY=4,t.BSON_DATA_BINARY=5,t.BSON_DATA_UNDEFINED=6,t.BSON_DATA_OID=7,t.BSON_DATA_BOOLEAN=8,t.BSON_DATA_DATE=9,t.BSON_DATA_NULL=10,t.BSON_DATA_REGEXP=11,t.BSON_DATA_DBPOINTER=12,t.BSON_DATA_CODE=13,t.BSON_DATA_SYMBOL=14,t.BSON_DATA_CODE_W_SCOPE=15,t.BSON_DATA_INT=16,t.BSON_DATA_TIMESTAMP=17,t.BSON_DATA_LONG=18,t.BSON_DATA_DECIMAL128=19,t.BSON_DATA_MIN_KEY=255,t.BSON_DATA_MAX_KEY=127,t.BSON_BINARY_SUBTYPE_DEFAULT=0,t.BSON_BINARY_SUBTYPE_FUNCTION=1,t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,t.BSON_BINARY_SUBTYPE_UUID=3,t.BSON_BINARY_SUBTYPE_UUID_NEW=4,t.BSON_BINARY_SUBTYPE_MD5=5,t.BSON_BINARY_SUBTYPE_USER_DEFINED=128}));o(Be),Be.BSON_BINARY_SUBTYPE_USER_DEFINED,Be.BSON_BINARY_SUBTYPE_MD5,Be.BSON_BINARY_SUBTYPE_UUID_NEW,Be.BSON_BINARY_SUBTYPE_UUID,Be.BSON_BINARY_SUBTYPE_BYTE_ARRAY,Be.BSON_BINARY_SUBTYPE_FUNCTION,Be.BSON_BINARY_SUBTYPE_DEFAULT,Be.BSON_DATA_MAX_KEY,Be.BSON_DATA_MIN_KEY,Be.BSON_DATA_DECIMAL128,Be.BSON_DATA_LONG,Be.BSON_DATA_TIMESTAMP,Be.BSON_DATA_INT,Be.BSON_DATA_CODE_W_SCOPE,Be.BSON_DATA_SYMBOL,Be.BSON_DATA_CODE,Be.BSON_DATA_DBPOINTER,Be.BSON_DATA_REGEXP,Be.BSON_DATA_NULL,Be.BSON_DATA_DATE,Be.BSON_DATA_BOOLEAN,Be.BSON_DATA_OID,Be.BSON_DATA_UNDEFINED,Be.BSON_DATA_BINARY,Be.BSON_DATA_ARRAY,Be.BSON_DATA_OBJECT,Be.BSON_DATA_STRING,Be.BSON_DATA_NUMBER,Be.JS_INT_MIN,Be.JS_INT_MAX,Be.BSON_INT64_MIN,Be.BSON_INT64_MAX,Be.BSON_INT32_MIN,Be.BSON_INT32_MAX;var Oe=s((function(e,t){function r(e,t,r){var i=5;if(Array.isArray(e))for(var o=0;o<e.length;o++)i+=n(o.toString(),e[o],t,!0,r);else for(var s in e.toBSON&&(e=e.toBSON()),e)i+=n(s,e[s],t,!1,r);return i}function n(e,t,n,i,o){switch(void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===o&&(o=!1),t&&t.toBSON&&(t=t.toBSON()),typeof t){case"string":return 1+v.Buffer.byteLength(e,"utf8")+1+4+v.Buffer.byteLength(t,"utf8")+1;case"number":return Math.floor(t)===t&&t>=Be.JS_INT_MIN&&t<=Be.JS_INT_MAX&&t>=Be.BSON_INT32_MIN&&t<=Be.BSON_INT32_MAX?(null!=e?v.Buffer.byteLength(e,"utf8")+1:0)+5:(null!=e?v.Buffer.byteLength(e,"utf8")+1:0)+9;case"undefined":return i||!o?(null!=e?v.Buffer.byteLength(e,"utf8")+1:0)+1:0;case"boolean":return(null!=e?v.Buffer.byteLength(e,"utf8")+1:0)+2;case"object":if(null==t||"MinKey"===t._bsontype||"MaxKey"===t._bsontype)return(null!=e?v.Buffer.byteLength(e,"utf8")+1:0)+1;if("ObjectId"===t._bsontype||"ObjectID"===t._bsontype)return(null!=e?v.Buffer.byteLength(e,"utf8")+1:0)+13;if(t instanceof Date||Z.isDate(t))return(null!=e?v.Buffer.byteLength(e,"utf8")+1:0)+9;if(ArrayBuffer.isView(t)||t instanceof ArrayBuffer||Z.isAnyArrayBuffer(t))return(null!=e?v.Buffer.byteLength(e,"utf8")+1:0)+6+t.byteLength;if("Long"===t._bsontype||"Double"===t._bsontype||"Timestamp"===t._bsontype)return(null!=e?v.Buffer.byteLength(e,"utf8")+1:0)+9;if("Decimal128"===t._bsontype)return(null!=e?v.Buffer.byteLength(e,"utf8")+1:0)+17;if("Code"===t._bsontype)return null!=t.scope&&Object.keys(t.scope).length>0?(null!=e?v.Buffer.byteLength(e,"utf8")+1:0)+1+4+4+v.Buffer.byteLength(t.code.toString(),"utf8")+1+r(t.scope,n,o):(null!=e?v.Buffer.byteLength(e,"utf8")+1:0)+1+4+v.Buffer.byteLength(t.code.toString(),"utf8")+1;if("Binary"===t._bsontype)return t.sub_type===re.Binary.SUBTYPE_BYTE_ARRAY?(null!=e?v.Buffer.byteLength(e,"utf8")+1:0)+(t.position+1+4+1+4):(null!=e?v.Buffer.byteLength(e,"utf8")+1:0)+(t.position+1+4+1);if("Symbol"===t._bsontype)return(null!=e?v.Buffer.byteLength(e,"utf8")+1:0)+v.Buffer.byteLength(t.value,"utf8")+4+1+1;if("DBRef"===t._bsontype){var s=Object.assign({$ref:t.collection,$id:t.oid},t.fields);return null!=t.db&&(s.$db=t.db),(null!=e?v.Buffer.byteLength(e,"utf8")+1:0)+1+r(s,n,o)}return t instanceof RegExp||Z.isRegExp(t)?(null!=e?v.Buffer.byteLength(e,"utf8")+1:0)+1+v.Buffer.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1:"BSONRegExp"===t._bsontype?(null!=e?v.Buffer.byteLength(e,"utf8")+1:0)+1+v.Buffer.byteLength(t.pattern,"utf8")+1+v.Buffer.byteLength(t.options,"utf8")+1:(null!=e?v.Buffer.byteLength(e,"utf8")+1:0)+r(t,n,o)+1;case"function":if(t instanceof RegExp||Z.isRegExp(t)||"[object RegExp]"===String.call(t))return(null!=e?v.Buffer.byteLength(e,"utf8")+1:0)+1+v.Buffer.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1;if(n&&null!=t.scope&&Object.keys(t.scope).length>0)return(null!=e?v.Buffer.byteLength(e,"utf8")+1:0)+1+4+4+v.Buffer.byteLength(Z.normalizedFunctionString(t),"utf8")+1+r(t.scope,n,o);if(n)return(null!=e?v.Buffer.byteLength(e,"utf8")+1:0)+1+4+v.Buffer.byteLength(Z.normalizedFunctionString(t),"utf8")+1}return 0}Object.defineProperty(t,"__esModule",{value:!0}),t.calculateObjectSize=void 0,t.calculateObjectSize=r}));o(Oe),Oe.calculateObjectSize;var Se=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateUtf8=void 0;t.validateUtf8=function(e,t,r){for(var n=0,i=t;i<r;i+=1){var o=e[i];if(n){if(128!=(192&o))return!1;n-=1}else if(128&o)if(192==(224&o))n=1;else if(224==(240&o))n=2;else{if(240!=(248&o))return!1;n=3}}return!n}}));o(Se),Se.validateUtf8;var Ee=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=void 0;var r=oe.Long.fromNumber(Be.JS_INT_MAX),n=oe.Long.fromNumber(Be.JS_INT_MIN),i={};function o(e,t,a,u){void 0===u&&(u=!1);var f=null!=a.evalFunctions&&a.evalFunctions,c=null!=a.cacheFunctions&&a.cacheFunctions,h=null==a.fieldsAsRaw?null:a.fieldsAsRaw,l=null!=a.raw&&a.raw,p="boolean"==typeof a.bsonRegExp&&a.bsonRegExp,d=null!=a.promoteBuffers&&a.promoteBuffers,g=null==a.promoteLongs||a.promoteLongs,y=null==a.promoteValues||a.promoteValues,b=t;if(e.length<5)throw new Error("corrupt bson message < 5 bytes long");var _=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(_<5||_>e.length)throw new Error("corrupt bson message");for(var m=u?[]:{},w=0;;){var A=e[t++];if(0===A)break;for(var B=t;0!==e[B]&&B<e.length;)B++;if(B>=e.byteLength)throw new Error("Bad BSON Document: illegal CString");var O=u?w++:e.toString("utf8",t,B),S=void 0;if(t=B+1,A===Be.BSON_DATA_STRING){if((K=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||K>e.length-t||0!==e[t+K-1])throw new Error("bad string length in bson");if(!Se.validateUtf8(e,t,t+K-1))throw new Error("Invalid UTF-8 string in BSON document");S=e.toString("utf8",t,t+K-1),t+=K}else if(A===Be.BSON_DATA_OID){var E=v.Buffer.alloc(12);e.copy(E,0,t,t+12),S=new he.ObjectId(E),t+=12}else if(A===Be.BSON_DATA_INT&&!1===y)S=new ue.Int32(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24);else if(A===Be.BSON_DATA_INT)S=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;else if(A===Be.BSON_DATA_NUMBER&&!1===y)S=new ae.Double(e.readDoubleLE(t)),t+=8;else if(A===Be.BSON_DATA_NUMBER)S=e.readDoubleLE(t),t+=8;else if(A===Be.BSON_DATA_DATE){var N=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,T=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;S=new Date(new oe.Long(N,T).toNumber())}else if(A===Be.BSON_DATA_BOOLEAN){if(0!==e[t]&&1!==e[t])throw new Error("illegal boolean type value");S=1===e[t++]}else if(A===Be.BSON_DATA_OBJECT){var I=t;if((V=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)<=0||V>e.length-t)throw new Error("bad embedded document length in bson");S=l?e.slice(t,t+V):o(e,I,a,!1),t+=V}else if(A===Be.BSON_DATA_ARRAY){I=t;var D=a,x=t+(V=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24);if(h&&h[O]){for(var U in D={},a)D[U]=a[U];D.raw=!0}if(S=o(e,I,D,!0),0!==e[(t+=V)-1])throw new Error("invalid array terminator byte");if(t!==x)throw new Error("corrupted array bson")}else if(A===Be.BSON_DATA_UNDEFINED)S=void 0;else if(A===Be.BSON_DATA_NULL)S=null;else if(A===Be.BSON_DATA_LONG){N=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,T=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var R=new oe.Long(N,T);S=g&&!0===y&&R.lessThanOrEqual(r)&&R.greaterThanOrEqual(n)?R.toNumber():R}else if(A===Be.BSON_DATA_DECIMAL128){var P=v.Buffer.alloc(16);e.copy(P,0,t,t+16),t+=16;var L=new se.Decimal128(P);S="toObject"in L&&"function"==typeof L.toObject?L.toObject():L}else if(A===Be.BSON_DATA_BINARY){var j=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,M=j,k=e[t++];if(j<0)throw new Error("Negative binary type element size found");if(j>e.byteLength)throw new Error("Binary type size larger than document size");if(null!=e.slice){if(k===re.Binary.SUBTYPE_BYTE_ARRAY){if((j=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(j>M-4)throw new Error("Binary type with subtype 0x02 contains too long binary size");if(j<M-4)throw new Error("Binary type with subtype 0x02 contains too short binary size")}S=d&&y?e.slice(t,t+j):new re.Binary(e.slice(t,t+j),k)}else{var C=v.Buffer.alloc(j);if(k===re.Binary.SUBTYPE_BYTE_ARRAY){if((j=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(j>M-4)throw new Error("Binary type with subtype 0x02 contains too long binary size");if(j<M-4)throw new Error("Binary type with subtype 0x02 contains too short binary size")}for(B=0;B<j;B++)C[B]=e[t+B];S=d&&y?C:new re.Binary(C,k)}t+=j}else if(A===Be.BSON_DATA_REGEXP&&!1===p){for(B=t;0!==e[B]&&B<e.length;)B++;if(B>=e.length)throw new Error("Bad BSON Document: illegal CString");var Y=e.toString("utf8",t,B);for(B=t=B+1;0!==e[B]&&B<e.length;)B++;if(B>=e.length)throw new Error("Bad BSON Document: illegal CString");var $=e.toString("utf8",t,B);t=B+1;var F=new Array($.length);for(B=0;B<$.length;B++)switch($[B]){case"m":F[B]="m";break;case"s":F[B]="g";break;case"i":F[B]="i"}S=new RegExp(Y,F.join(""))}else if(A===Be.BSON_DATA_REGEXP&&!0===p){for(B=t;0!==e[B]&&B<e.length;)B++;if(B>=e.length)throw new Error("Bad BSON Document: illegal CString");Y=e.toString("utf8",t,B);for(B=t=B+1;0!==e[B]&&B<e.length;)B++;if(B>=e.length)throw new Error("Bad BSON Document: illegal CString");$=e.toString("utf8",t,B);t=B+1,S=new le.BSONRegExp(Y,$)}else if(A===Be.BSON_DATA_SYMBOL){if((K=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||K>e.length-t||0!==e[t+K-1])throw new Error("bad string length in bson");var J=e.toString("utf8",t,t+K-1);S=y?J:new pe.BSONSymbol(J),t+=K}else if(A===Be.BSON_DATA_TIMESTAMP){N=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,T=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;S=new we.Timestamp(N,T)}else if(A===Be.BSON_DATA_MIN_KEY)S=new ce.MinKey;else if(A===Be.BSON_DATA_MAX_KEY)S=new fe.MaxKey;else if(A===Be.BSON_DATA_CODE){if((K=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||K>e.length-t||0!==e[t+K-1])throw new Error("bad string length in bson");var z=e.toString("utf8",t,t+K-1);S=f?c?s(z,i,m):s(z):new ne.Code(z),t+=K}else if(A===Be.BSON_DATA_CODE_W_SCOPE){var W=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(W<13)throw new Error("code_w_scope total size shorter minimum expected length");if((K=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||K>e.length-t||0!==e[t+K-1])throw new Error("bad string length in bson");z=e.toString("utf8",t,t+K-1),I=t+=K;var V=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,H=o(e,I,a,!1);if(t+=V,W<8+V+K)throw new Error("code_w_scope total size is too short, truncating scope");if(W>8+V+K)throw new Error("code_w_scope total size is too long, clips outer document");f?(S=c?s(z,i,m):s(z)).scope=H:S=new ne.Code(z,H)}else{if(A!==Be.BSON_DATA_DBPOINTER)throw new Error("Detected unknown BSON type "+A.toString(16)+' for fieldname "'+O+'"');var K;if((K=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||K>e.length-t||0!==e[t+K-1])throw new Error("bad string length in bson");if(!Se.validateUtf8(e,t,t+K-1))throw new Error("Invalid UTF-8 string in BSON document");var q=e.toString("utf8",t,t+K-1);t+=K;var X=v.Buffer.alloc(12);e.copy(X,0,t,t+12);E=new he.ObjectId(X);t+=12,S=new ie.DBRef(q,E)}"__proto__"===O?Object.defineProperty(m,O,{value:S,writable:!0,enumerable:!0,configurable:!0}):m[O]=S}if(_!==t-b){if(u)throw new Error("corrupt array bson");throw new Error("corrupt object bson")}var G=Object.keys(m).filter((function(e){return e.startsWith("$")})),Z=!0;if(G.forEach((function(e){-1===["$ref","$id","$db"].indexOf(e)&&(Z=!1)})),!Z)return m;if(ie.isDBRefLike(m)){var Q=Object.assign({},m);return delete Q.$ref,delete Q.$id,delete Q.$db,new ie.DBRef(m.$ref,m.$id,m.$db,Q)}return m}function s(e,t,r){return t?(null==t[e]&&(t[e]=new Function(e)),t[e].bind(r)):new Function(e)}t.deserialize=function(e,t,r){var n=(t=null==t?{}:t)&&t.index?t.index:0,i=e[n]|e[n+1]<<8|e[n+2]<<16|e[n+3]<<24;if(i<5)throw new Error("bson size must be >= 5, is "+i);if(t.allowObjectSmallerThanBufferSize&&e.length<i)throw new Error("buffer length "+e.length+" must be >= bson size "+i);if(!t.allowObjectSmallerThanBufferSize&&e.length!==i)throw new Error("buffer length "+e.length+" must === bson size "+i);if(i+n>e.byteLength)throw new Error("(bson size "+i+" + options.index "+n+" must be <= buffer length "+e.byteLength+")");if(0!==e[n+i-1])throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return o(e,n,t,r)}}));o(Ee),Ee.deserialize;var Ne=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.writeIEEE754=t.readIEEE754=void 0,t.readIEEE754=function(e,t,r,n,i){var o,s,a="big"===r,u=8*i-n-1,f=(1<<u)-1,c=f>>1,h=-7,l=a?0:i-1,p=a?1:-1,d=e[t+l];for(l+=p,o=d&(1<<-h)-1,d>>=-h,h+=u;h>0;o=256*o+e[t+l],l+=p,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=n;h>0;s=256*s+e[t+l],l+=p,h-=8);if(0===o)o=1-c;else{if(o===f)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=c}return(d?-1:1)*s*Math.pow(2,o-n)},t.writeIEEE754=function(e,t,r,n,i,o){var s,a,u,f="big"===n,c=8*o-i-1,h=(1<<c)-1,l=h>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=f?o-1:0,g=f?-1:1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+l>=1?p/u:p*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=h?(a=0,s=h):s+l>=1?(a=(t*u-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0)),isNaN(t)&&(a=0);i>=8;)e[r+d]=255&a,d+=g,a/=256,i-=8;for(s=s<<i|a,isNaN(t)&&(s+=8),c+=i;c>0;)e[r+d]=255&s,d+=g,s/=256,c-=8;e[r+d-g]|=128*y}}));o(Ne),Ne.writeIEEE754,Ne.readIEEE754;var Te=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeInto=void 0;var r=/\x00/,n=new Set(["$db","$ref","$id","$clusterTime"]);function i(e,t,r,n,i){e[n++]=Be.BSON_DATA_STRING;var o=i?e.write(t,n,void 0,"ascii"):e.write(t,n,void 0,"utf8");e[(n=n+o+1)-1]=0;var s=e.write(r,n+4,void 0,"utf8");return e[n+3]=s+1>>24&255,e[n+2]=s+1>>16&255,e[n+1]=s+1>>8&255,e[n]=s+1&255,n=n+4+s,e[n++]=0,n}function o(e,t,r,n,i){Number.isInteger(r)&&r>=Be.BSON_INT32_MIN&&r<=Be.BSON_INT32_MAX?(e[n++]=Be.BSON_DATA_INT,n+=i?e.write(t,n,void 0,"ascii"):e.write(t,n,void 0,"utf8"),e[n++]=0,e[n++]=255&r,e[n++]=r>>8&255,e[n++]=r>>16&255,e[n++]=r>>24&255):(e[n++]=Be.BSON_DATA_NUMBER,n+=i?e.write(t,n,void 0,"ascii"):e.write(t,n,void 0,"utf8"),e[n++]=0,Ne.writeIEEE754(e,r,n,"little",52,8),n+=8);return n}function s(e,t,r,n,i){return e[n++]=Be.BSON_DATA_NULL,n+=i?e.write(t,n,void 0,"ascii"):e.write(t,n,void 0,"utf8"),e[n++]=0,n}function a(e,t,r,n,i){return e[n++]=Be.BSON_DATA_BOOLEAN,n+=i?e.write(t,n,void 0,"ascii"):e.write(t,n,void 0,"utf8"),e[n++]=0,e[n++]=r?1:0,n}function u(e,t,r,n,i){e[n++]=Be.BSON_DATA_DATE,n+=i?e.write(t,n,void 0,"ascii"):e.write(t,n,void 0,"utf8"),e[n++]=0;var o=oe.Long.fromNumber(r.getTime()),s=o.getLowBits(),a=o.getHighBits();return e[n++]=255&s,e[n++]=s>>8&255,e[n++]=s>>16&255,e[n++]=s>>24&255,e[n++]=255&a,e[n++]=a>>8&255,e[n++]=a>>16&255,e[n++]=a>>24&255,n}function f(e,t,n,i,o){if(e[i++]=Be.BSON_DATA_REGEXP,i+=o?e.write(t,i,void 0,"ascii"):e.write(t,i,void 0,"utf8"),e[i++]=0,n.source&&null!=n.source.match(r))throw Error("value "+n.source+" must not contain null bytes");return i+=e.write(n.source,i,void 0,"utf8"),e[i++]=0,n.ignoreCase&&(e[i++]=105),n.global&&(e[i++]=115),n.multiline&&(e[i++]=109),e[i++]=0,i}function c(e,t,n,i,o){if(e[i++]=Be.BSON_DATA_REGEXP,i+=o?e.write(t,i,void 0,"ascii"):e.write(t,i,void 0,"utf8"),e[i++]=0,null!=n.pattern.match(r))throw Error("pattern "+n.pattern+" must not contain null bytes");return i+=e.write(n.pattern,i,void 0,"utf8"),e[i++]=0,i+=e.write(n.options.split("").sort().join(""),i,void 0,"utf8"),e[i++]=0,i}function h(e,t,r,n,i){return null===r?e[n++]=Be.BSON_DATA_NULL:"MinKey"===r._bsontype?e[n++]=Be.BSON_DATA_MIN_KEY:e[n++]=Be.BSON_DATA_MAX_KEY,n+=i?e.write(t,n,void 0,"ascii"):e.write(t,n,void 0,"utf8"),e[n++]=0,n}function l(e,t,r,n,i){if(e[n++]=Be.BSON_DATA_OID,n+=i?e.write(t,n,void 0,"ascii"):e.write(t,n,void 0,"utf8"),e[n++]=0,"string"==typeof r.id)e.write(r.id,n,void 0,"binary");else{if(!r.id||!r.id.copy)throw new TypeError("object ["+JSON.stringify(r)+"] is not a valid ObjectId");r.id.copy(e,n,0,12)}return n+12}function p(e,t,r,n,i){e[n++]=Be.BSON_DATA_BINARY,n+=i?e.write(t,n,void 0,"ascii"):e.write(t,n,void 0,"utf8"),e[n++]=0;var o=r.length;return e[n++]=255&o,e[n++]=o>>8&255,e[n++]=o>>16&255,e[n++]=o>>24&255,e[n++]=Be.BSON_BINARY_SUBTYPE_DEFAULT,e.set(Q.ensureBuffer(r),n),n+=o}function d(e,t,r,n,i,o,s,a,u,f){void 0===i&&(i=!1),void 0===o&&(o=0),void 0===s&&(s=!1),void 0===a&&(a=!0),void 0===u&&(u=!1),void 0===f&&(f=[]);for(var c=0;c<f.length;c++)if(f[c]===r)throw new Error("cyclic dependency detected");f.push(r),e[n++]=Array.isArray(r)?Be.BSON_DATA_ARRAY:Be.BSON_DATA_OBJECT,n+=u?e.write(t,n,void 0,"ascii"):e.write(t,n,void 0,"utf8"),e[n++]=0;var h=O(e,r,i,n,o+1,s,a,f);return f.pop(),h}function g(e,t,r,n,i){return e[n++]=Be.BSON_DATA_DECIMAL128,n+=i?e.write(t,n,void 0,"ascii"):e.write(t,n,void 0,"utf8"),e[n++]=0,r.bytes.copy(e,n,0,16),n+16}function y(e,t,r,n,i){e[n++]="Long"===r._bsontype?Be.BSON_DATA_LONG:Be.BSON_DATA_TIMESTAMP,n+=i?e.write(t,n,void 0,"ascii"):e.write(t,n,void 0,"utf8"),e[n++]=0;var o=r.getLowBits(),s=r.getHighBits();return e[n++]=255&o,e[n++]=o>>8&255,e[n++]=o>>16&255,e[n++]=o>>24&255,e[n++]=255&s,e[n++]=s>>8&255,e[n++]=s>>16&255,e[n++]=s>>24&255,n}function b(e,t,r,n,i){return r=r.valueOf(),e[n++]=Be.BSON_DATA_INT,n+=i?e.write(t,n,void 0,"ascii"):e.write(t,n,void 0,"utf8"),e[n++]=0,e[n++]=255&r,e[n++]=r>>8&255,e[n++]=r>>16&255,e[n++]=r>>24&255,n}function _(e,t,r,n,i){return e[n++]=Be.BSON_DATA_NUMBER,n+=i?e.write(t,n,void 0,"ascii"):e.write(t,n,void 0,"utf8"),e[n++]=0,Ne.writeIEEE754(e,r.value,n,"little",52,8),n+=8}function m(e,t,r,n,i,o,s){e[n++]=Be.BSON_DATA_CODE,n+=s?e.write(t,n,void 0,"ascii"):e.write(t,n,void 0,"utf8"),e[n++]=0;var a=Z.normalizedFunctionString(r),u=e.write(a,n+4,void 0,"utf8")+1;return e[n]=255&u,e[n+1]=u>>8&255,e[n+2]=u>>16&255,e[n+3]=u>>24&255,n=n+4+u-1,e[n++]=0,n}function w(e,t,r,n,i,o,s,a,u){if(void 0===i&&(i=!1),void 0===o&&(o=0),void 0===s&&(s=!1),void 0===a&&(a=!0),void 0===u&&(u=!1),r.scope&&"object"==typeof r.scope){e[n++]=Be.BSON_DATA_CODE_W_SCOPE,n+=u?e.write(t,n,void 0,"ascii"):e.write(t,n,void 0,"utf8"),e[n++]=0;var f=n,c="string"==typeof r.code?r.code:r.code.toString();n+=4;var h=e.write(c,n+4,void 0,"utf8")+1;e[n]=255&h,e[n+1]=h>>8&255,e[n+2]=h>>16&255,e[n+3]=h>>24&255,e[n+4+h-1]=0,n=n+h+4;var l=O(e,r.scope,i,n,o+1,s,a);n=l-1;var p=l-f;e[f++]=255&p,e[f++]=p>>8&255,e[f++]=p>>16&255,e[f++]=p>>24&255,e[n++]=0}else{e[n++]=Be.BSON_DATA_CODE,n+=u?e.write(t,n,void 0,"ascii"):e.write(t,n,void 0,"utf8"),e[n++]=0;c=r.code.toString();var d=e.write(c,n+4,void 0,"utf8")+1;e[n]=255&d,e[n+1]=d>>8&255,e[n+2]=d>>16&255,e[n+3]=d>>24&255,n=n+4+d-1,e[n++]=0}return n}function v(e,t,r,n,i){e[n++]=Be.BSON_DATA_BINARY,n+=i?e.write(t,n,void 0,"ascii"):e.write(t,n,void 0,"utf8"),e[n++]=0;var o=r.value(!0),s=r.position;return r.sub_type===re.Binary.SUBTYPE_BYTE_ARRAY&&(s+=4),e[n++]=255&s,e[n++]=s>>8&255,e[n++]=s>>16&255,e[n++]=s>>24&255,e[n++]=r.sub_type,r.sub_type===re.Binary.SUBTYPE_BYTE_ARRAY&&(s-=4,e[n++]=255&s,e[n++]=s>>8&255,e[n++]=s>>16&255,e[n++]=s>>24&255),e.set(o,n),n+=r.position}function A(e,t,r,n,i){e[n++]=Be.BSON_DATA_SYMBOL,n+=i?e.write(t,n,void 0,"ascii"):e.write(t,n,void 0,"utf8"),e[n++]=0;var o=e.write(r.value,n+4,void 0,"utf8")+1;return e[n]=255&o,e[n+1]=o>>8&255,e[n+2]=o>>16&255,e[n+3]=o>>24&255,n=n+4+o-1,e[n++]=0,n}function B(e,t,r,n,i,o,s){e[n++]=Be.BSON_DATA_OBJECT,n+=s?e.write(t,n,void 0,"ascii"):e.write(t,n,void 0,"utf8"),e[n++]=0;var a=n,u={$ref:r.collection||r.namespace,$id:r.oid};null!=r.db&&(u.$db=r.db);var f=O(e,u=Object.assign(u,r.fields),!1,n,i+1,o),c=f-a;return e[a++]=255&c,e[a++]=c>>8&255,e[a++]=c>>16&255,e[a++]=c>>24&255,f}function O(e,t,O,S,E,N,T,I){void 0===O&&(O=!1),void 0===S&&(S=0),void 0===E&&(E=0),void 0===N&&(N=!1),void 0===T&&(T=!0),void 0===I&&(I=[]),S=S||0,(I=I||[]).push(t);var D=S+4;if(Array.isArray(t))for(var x=0;x<t.length;x++){var U=""+x;if((M=t[x])&&M.toBSON){if("function"!=typeof M.toBSON)throw new TypeError("toBSON is not a function");M=M.toBSON()}if("string"==typeof M)D=i(e,U,M,D,!0);else if("number"==typeof M)D=o(e,U,M,D,!0);else{if("bigint"==typeof M)throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"==typeof M)D=a(e,U,M,D,!0);else if(M instanceof Date||Z.isDate(M))D=u(e,U,M,D,!0);else if(void 0===M)D=s(e,U,0,D,!0);else if(null===M)D=s(e,U,0,D,!0);else if("ObjectId"===M._bsontype||"ObjectID"===M._bsontype)D=l(e,U,M,D,!0);else if(Z.isUint8Array(M))D=p(e,U,M,D,!0);else if(M instanceof RegExp||Z.isRegExp(M))D=f(e,U,M,D,!0);else if("object"==typeof M&&null==M._bsontype)D=d(e,U,M,D,O,E,N,T,!0,I);else if("object"==typeof M&&ve.isBSONType(M)&&"Decimal128"===M._bsontype)D=g(e,U,M,D,!0);else if("Long"===M._bsontype||"Timestamp"===M._bsontype)D=y(e,U,M,D,!0);else if("Double"===M._bsontype)D=_(e,U,M,D,!0);else if("function"==typeof M&&N)D=m(e,U,M,D,0,0,!0);else if("Code"===M._bsontype)D=w(e,U,M,D,O,E,N,T,!0);else if("Binary"===M._bsontype)D=v(e,U,M,D,!0);else if("Symbol"===M._bsontype)D=A(e,U,M,D,!0);else if("DBRef"===M._bsontype)D=B(e,U,M,D,E,N,!0);else if("BSONRegExp"===M._bsontype)D=c(e,U,M,D,!0);else if("Int32"===M._bsontype)D=b(e,U,M,D,!0);else if("MinKey"===M._bsontype||"MaxKey"===M._bsontype)D=h(e,U,M,D,!0);else if(void 0!==M._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+M._bsontype)}}else if(t instanceof Ae.Map||Z.isMap(t))for(var R=t.entries(),P=!1;!P;){var L=R.next();if(!(P=!!L.done)){U=L.value[0];var j=typeof(M=L.value[1]);if("string"==typeof U&&!n.has(U)){if(null!=U.match(r))throw Error("key "+U+" must not contain null bytes");if(O){if("$"===U[0])throw Error("key "+U+" must not start with '$'");if(~U.indexOf("."))throw Error("key "+U+" must not contain '.'")}}if("string"===j)D=i(e,U,M,D);else if("number"===j)D=o(e,U,M,D);else{if("bigint"===j||Z.isBigInt64Array(M)||Z.isBigUInt64Array(M))throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===j)D=a(e,U,M,D);else if(M instanceof Date||Z.isDate(M))D=u(e,U,M,D);else if(null===M||void 0===M&&!1===T)D=s(e,U,0,D);else if("ObjectId"===M._bsontype||"ObjectID"===M._bsontype)D=l(e,U,M,D);else if(Z.isUint8Array(M))D=p(e,U,M,D);else if(M instanceof RegExp||Z.isRegExp(M))D=f(e,U,M,D);else if("object"===j&&null==M._bsontype)D=d(e,U,M,D,O,E,N,T,!1,I);else if("object"===j&&"Decimal128"===M._bsontype)D=g(e,U,M,D);else if("Long"===M._bsontype||"Timestamp"===M._bsontype)D=y(e,U,M,D);else if("Double"===M._bsontype)D=_(e,U,M,D);else if("Code"===M._bsontype)D=w(e,U,M,D,O,E,N,T);else if("function"==typeof M&&N)D=m(e,U,M,D,0,0,N);else if("Binary"===M._bsontype)D=v(e,U,M,D);else if("Symbol"===M._bsontype)D=A(e,U,M,D);else if("DBRef"===M._bsontype)D=B(e,U,M,D,E,N);else if("BSONRegExp"===M._bsontype)D=c(e,U,M,D);else if("Int32"===M._bsontype)D=b(e,U,M,D);else if("MinKey"===M._bsontype||"MaxKey"===M._bsontype)D=h(e,U,M,D);else if(void 0!==M._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+M._bsontype)}}}else{if(t.toBSON){if("function"!=typeof t.toBSON)throw new TypeError("toBSON is not a function");if(null!=(t=t.toBSON())&&"object"!=typeof t)throw new TypeError("toBSON function did not return an object")}for(var U in t){var M;if((M=t[U])&&M.toBSON){if("function"!=typeof M.toBSON)throw new TypeError("toBSON is not a function");M=M.toBSON()}j=typeof M;if("string"==typeof U&&!n.has(U)){if(null!=U.match(r))throw Error("key "+U+" must not contain null bytes");if(O){if("$"===U[0])throw Error("key "+U+" must not start with '$'");if(~U.indexOf("."))throw Error("key "+U+" must not contain '.'")}}if("string"===j)D=i(e,U,M,D);else if("number"===j)D=o(e,U,M,D);else{if("bigint"===j)throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===j)D=a(e,U,M,D);else if(M instanceof Date||Z.isDate(M))D=u(e,U,M,D);else if(void 0===M)!1===T&&(D=s(e,U,0,D));else if(null===M)D=s(e,U,0,D);else if("ObjectId"===M._bsontype||"ObjectID"===M._bsontype)D=l(e,U,M,D);else if(Z.isUint8Array(M))D=p(e,U,M,D);else if(M instanceof RegExp||Z.isRegExp(M))D=f(e,U,M,D);else if("object"===j&&null==M._bsontype)D=d(e,U,M,D,O,E,N,T,!1,I);else if("object"===j&&"Decimal128"===M._bsontype)D=g(e,U,M,D);else if("Long"===M._bsontype||"Timestamp"===M._bsontype)D=y(e,U,M,D);else if("Double"===M._bsontype)D=_(e,U,M,D);else if("Code"===M._bsontype)D=w(e,U,M,D,O,E,N,T);else if("function"==typeof M&&N)D=m(e,U,M,D,0,0,N);else if("Binary"===M._bsontype)D=v(e,U,M,D);else if("Symbol"===M._bsontype)D=A(e,U,M,D);else if("DBRef"===M._bsontype)D=B(e,U,M,D,E,N);else if("BSONRegExp"===M._bsontype)D=c(e,U,M,D);else if("Int32"===M._bsontype)D=b(e,U,M,D);else if("MinKey"===M._bsontype||"MaxKey"===M._bsontype)D=h(e,U,M,D);else if(void 0!==M._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+M._bsontype)}}}I.pop(),e[D++]=0;var k=D-S;return e[S++]=255&k,e[S++]=k>>8&255,e[S++]=k>>16&255,e[S++]=k>>24&255,D}t.serializeInto=O}));o(Te),Te.serializeInto;var Ie=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectID=t.Decimal128=t.BSONRegExp=t.MaxKey=t.MinKey=t.Int32=t.Double=t.Timestamp=t.Long=t.UUID=t.ObjectId=t.Binary=t.DBRef=t.BSONSymbol=t.Map=t.Code=t.LongWithoutOverridesClass=t.EJSON=t.BSON_INT64_MIN=t.BSON_INT64_MAX=t.BSON_INT32_MIN=t.BSON_INT32_MAX=t.BSON_DATA_UNDEFINED=t.BSON_DATA_TIMESTAMP=t.BSON_DATA_SYMBOL=t.BSON_DATA_STRING=t.BSON_DATA_REGEXP=t.BSON_DATA_OID=t.BSON_DATA_OBJECT=t.BSON_DATA_NUMBER=t.BSON_DATA_NULL=t.BSON_DATA_MIN_KEY=t.BSON_DATA_MAX_KEY=t.BSON_DATA_LONG=t.BSON_DATA_INT=t.BSON_DATA_DECIMAL128=t.BSON_DATA_DBPOINTER=t.BSON_DATA_DATE=t.BSON_DATA_CODE_W_SCOPE=t.BSON_DATA_CODE=t.BSON_DATA_BOOLEAN=t.BSON_DATA_BINARY=t.BSON_DATA_ARRAY=t.BSON_BINARY_SUBTYPE_UUID_NEW=t.BSON_BINARY_SUBTYPE_UUID=t.BSON_BINARY_SUBTYPE_USER_DEFINED=t.BSON_BINARY_SUBTYPE_MD5=t.BSON_BINARY_SUBTYPE_FUNCTION=t.BSON_BINARY_SUBTYPE_DEFAULT=t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=void 0,t.deserializeStream=t.calculateObjectSize=t.deserialize=t.serializeWithBufferAndIndex=t.serialize=t.setInternalBufferSize=void 0,Object.defineProperty(t,"Binary",{enumerable:!0,get:function(){return re.Binary}}),Object.defineProperty(t,"Code",{enumerable:!0,get:function(){return ne.Code}}),Object.defineProperty(t,"DBRef",{enumerable:!0,get:function(){return ie.DBRef}}),Object.defineProperty(t,"Decimal128",{enumerable:!0,get:function(){return se.Decimal128}}),Object.defineProperty(t,"Double",{enumerable:!0,get:function(){return ae.Double}}),Object.defineProperty(t,"Int32",{enumerable:!0,get:function(){return ue.Int32}}),Object.defineProperty(t,"Long",{enumerable:!0,get:function(){return oe.Long}}),Object.defineProperty(t,"Map",{enumerable:!0,get:function(){return Ae.Map}}),Object.defineProperty(t,"MaxKey",{enumerable:!0,get:function(){return fe.MaxKey}}),Object.defineProperty(t,"MinKey",{enumerable:!0,get:function(){return ce.MinKey}}),Object.defineProperty(t,"ObjectId",{enumerable:!0,get:function(){return he.ObjectId}}),Object.defineProperty(t,"ObjectID",{enumerable:!0,get:function(){return he.ObjectId}}),Object.defineProperty(t,"BSONRegExp",{enumerable:!0,get:function(){return le.BSONRegExp}}),Object.defineProperty(t,"BSONSymbol",{enumerable:!0,get:function(){return pe.BSONSymbol}}),Object.defineProperty(t,"Timestamp",{enumerable:!0,get:function(){return we.Timestamp}}),Object.defineProperty(t,"UUID",{enumerable:!0,get:function(){return te.UUID}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_BYTE_ARRAY",{enumerable:!0,get:function(){return Be.BSON_BINARY_SUBTYPE_BYTE_ARRAY}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_DEFAULT",{enumerable:!0,get:function(){return Be.BSON_BINARY_SUBTYPE_DEFAULT}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_FUNCTION",{enumerable:!0,get:function(){return Be.BSON_BINARY_SUBTYPE_FUNCTION}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_MD5",{enumerable:!0,get:function(){return Be.BSON_BINARY_SUBTYPE_MD5}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_USER_DEFINED",{enumerable:!0,get:function(){return Be.BSON_BINARY_SUBTYPE_USER_DEFINED}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_UUID",{enumerable:!0,get:function(){return Be.BSON_BINARY_SUBTYPE_UUID}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_UUID_NEW",{enumerable:!0,get:function(){return Be.BSON_BINARY_SUBTYPE_UUID_NEW}}),Object.defineProperty(t,"BSON_DATA_ARRAY",{enumerable:!0,get:function(){return Be.BSON_DATA_ARRAY}}),Object.defineProperty(t,"BSON_DATA_BINARY",{enumerable:!0,get:function(){return Be.BSON_DATA_BINARY}}),Object.defineProperty(t,"BSON_DATA_BOOLEAN",{enumerable:!0,get:function(){return Be.BSON_DATA_BOOLEAN}}),Object.defineProperty(t,"BSON_DATA_CODE",{enumerable:!0,get:function(){return Be.BSON_DATA_CODE}}),Object.defineProperty(t,"BSON_DATA_CODE_W_SCOPE",{enumerable:!0,get:function(){return Be.BSON_DATA_CODE_W_SCOPE}}),Object.defineProperty(t,"BSON_DATA_DATE",{enumerable:!0,get:function(){return Be.BSON_DATA_DATE}}),Object.defineProperty(t,"BSON_DATA_DBPOINTER",{enumerable:!0,get:function(){return Be.BSON_DATA_DBPOINTER}}),Object.defineProperty(t,"BSON_DATA_DECIMAL128",{enumerable:!0,get:function(){return Be.BSON_DATA_DECIMAL128}}),Object.defineProperty(t,"BSON_DATA_INT",{enumerable:!0,get:function(){return Be.BSON_DATA_INT}}),Object.defineProperty(t,"BSON_DATA_LONG",{enumerable:!0,get:function(){return Be.BSON_DATA_LONG}}),Object.defineProperty(t,"BSON_DATA_MAX_KEY",{enumerable:!0,get:function(){return Be.BSON_DATA_MAX_KEY}}),Object.defineProperty(t,"BSON_DATA_MIN_KEY",{enumerable:!0,get:function(){return Be.BSON_DATA_MIN_KEY}}),Object.defineProperty(t,"BSON_DATA_NULL",{enumerable:!0,get:function(){return Be.BSON_DATA_NULL}}),Object.defineProperty(t,"BSON_DATA_NUMBER",{enumerable:!0,get:function(){return Be.BSON_DATA_NUMBER}}),Object.defineProperty(t,"BSON_DATA_OBJECT",{enumerable:!0,get:function(){return Be.BSON_DATA_OBJECT}}),Object.defineProperty(t,"BSON_DATA_OID",{enumerable:!0,get:function(){return Be.BSON_DATA_OID}}),Object.defineProperty(t,"BSON_DATA_REGEXP",{enumerable:!0,get:function(){return Be.BSON_DATA_REGEXP}}),Object.defineProperty(t,"BSON_DATA_STRING",{enumerable:!0,get:function(){return Be.BSON_DATA_STRING}}),Object.defineProperty(t,"BSON_DATA_SYMBOL",{enumerable:!0,get:function(){return Be.BSON_DATA_SYMBOL}}),Object.defineProperty(t,"BSON_DATA_TIMESTAMP",{enumerable:!0,get:function(){return Be.BSON_DATA_TIMESTAMP}}),Object.defineProperty(t,"BSON_DATA_UNDEFINED",{enumerable:!0,get:function(){return Be.BSON_DATA_UNDEFINED}}),Object.defineProperty(t,"BSON_INT32_MAX",{enumerable:!0,get:function(){return Be.BSON_INT32_MAX}}),Object.defineProperty(t,"BSON_INT32_MIN",{enumerable:!0,get:function(){return Be.BSON_INT32_MIN}}),Object.defineProperty(t,"BSON_INT64_MAX",{enumerable:!0,get:function(){return Be.BSON_INT64_MAX}}),Object.defineProperty(t,"BSON_INT64_MIN",{enumerable:!0,get:function(){return Be.BSON_INT64_MIN}});var r=ve;Object.defineProperty(t,"EJSON",{enumerable:!0,get:function(){return r.EJSON}});var n=we;Object.defineProperty(t,"LongWithoutOverridesClass",{enumerable:!0,get:function(){return n.LongWithoutOverridesClass}});var i=v.Buffer.alloc(17825792);function o(e){i.length<e&&(i=v.Buffer.alloc(e))}function s(e,t){void 0===t&&(t={});var r="boolean"==typeof t.checkKeys&&t.checkKeys,n="boolean"==typeof t.serializeFunctions&&t.serializeFunctions,o="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined,s="number"==typeof t.minInternalBufferSize?t.minInternalBufferSize:17825792;i.length<s&&(i=v.Buffer.alloc(s));var a=Te.serializeInto(i,e,r,0,0,n,o,[]),u=v.Buffer.alloc(a);return i.copy(u,0,0,u.length),u}function a(e,t,r){void 0===r&&(r={});var n="boolean"==typeof r.checkKeys&&r.checkKeys,o="boolean"==typeof r.serializeFunctions&&r.serializeFunctions,s="boolean"!=typeof r.ignoreUndefined||r.ignoreUndefined,a="number"==typeof r.index?r.index:0,u=Te.serializeInto(i,e,n,0,0,o,s);return i.copy(t,a,0,u),a+u-1}function u(e,t){return void 0===t&&(t={}),Ee.deserialize(Q.ensureBuffer(e),t)}function f(e,t){void 0===t&&(t={});var r="boolean"==typeof(t=t||{}).serializeFunctions&&t.serializeFunctions,n="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined;return Oe.calculateObjectSize(e,r,n)}function c(e,t,r,n,i,o){for(var s=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},o),a=Q.ensureBuffer(e),u=t,f=0;f<r;f++){var c=a[u]|a[u+1]<<8|a[u+2]<<16|a[u+3]<<24;s.index=u,n[i+f]=Ee.deserialize(a,s),u+=c}return u}t.setInternalBufferSize=o,t.serialize=s,t.serializeWithBufferAndIndex=a,t.deserialize=u,t.calculateObjectSize=f,t.deserializeStream=c;var h={Binary:re.Binary,Code:ne.Code,DBRef:ie.DBRef,Decimal128:se.Decimal128,Double:ae.Double,Int32:ue.Int32,Long:oe.Long,UUID:te.UUID,Map:Ae.Map,MaxKey:fe.MaxKey,MinKey:ce.MinKey,ObjectId:he.ObjectId,ObjectID:he.ObjectId,BSONRegExp:le.BSONRegExp,BSONSymbol:pe.BSONSymbol,Timestamp:we.Timestamp,EJSON:ve.EJSON,setInternalBufferSize:o,serialize:s,serializeWithBufferAndIndex:a,deserialize:u,calculateObjectSize:f,deserializeStream:c};t.default=h})),De=(o(Ie),Ie.ObjectID,Ie.Decimal128,Ie.BSONRegExp,Ie.MaxKey,Ie.MinKey,Ie.Int32,Ie.Double,Ie.Timestamp,Ie.Long,Ie.UUID,Ie.ObjectId),xe=(Ie.Binary,Ie.DBRef,Ie.BSONSymbol,Ie.Map,Ie.Code,Ie.LongWithoutOverridesClass,Ie.EJSON);Ie.BSON_INT64_MIN,Ie.BSON_INT64_MAX,Ie.BSON_INT32_MIN,Ie.BSON_INT32_MAX,Ie.BSON_DATA_UNDEFINED,Ie.BSON_DATA_TIMESTAMP,Ie.BSON_DATA_SYMBOL,Ie.BSON_DATA_STRING,Ie.BSON_DATA_REGEXP,Ie.BSON_DATA_OID,Ie.BSON_DATA_OBJECT,Ie.BSON_DATA_NUMBER,Ie.BSON_DATA_NULL,Ie.BSON_DATA_MIN_KEY,Ie.BSON_DATA_MAX_KEY,Ie.BSON_DATA_LONG,Ie.BSON_DATA_INT,Ie.BSON_DATA_DECIMAL128,Ie.BSON_DATA_DBPOINTER,Ie.BSON_DATA_DATE,Ie.BSON_DATA_CODE_W_SCOPE,Ie.BSON_DATA_CODE,Ie.BSON_DATA_BOOLEAN,Ie.BSON_DATA_BINARY,Ie.BSON_DATA_ARRAY,Ie.BSON_BINARY_SUBTYPE_UUID_NEW,Ie.BSON_BINARY_SUBTYPE_UUID,Ie.BSON_BINARY_SUBTYPE_USER_DEFINED,Ie.BSON_BINARY_SUBTYPE_MD5,Ie.BSON_BINARY_SUBTYPE_FUNCTION,Ie.BSON_BINARY_SUBTYPE_DEFAULT,Ie.BSON_BINARY_SUBTYPE_BYTE_ARRAY,Ie.deserializeStream,Ie.calculateObjectSize,Ie.deserialize,Ie.serializeWithBufferAndIndex,Ie.serialize,Ie.setInternalBufferSize}).call(this,r(1),r(4).Buffer)},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";(function(e,t){var n=r(0),i=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},o=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},s=function(t){this.version=t,this.type="node",this.name="node",this.os=e.platform},a=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},u=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},f=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},c=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,h=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],l=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function p(e){var t=function(e){return""!==e&&h.reduce((function(t,r){var n=r[0],i=r[1];if(t)return t;var o=i.exec(e);return!!o&&[n,o]}),!1)}(e);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new u;var s=n[1]&&n[1].split(/[._]/).slice(0,3);s?s.length<3&&(s=i(s,function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-s.length))):s=[];var f=s.join("."),p=function(e){for(var t=0,r=l.length;t<r;t++){var n=l[t],i=n[0];if(n[1].exec(e))return i}return null}(e),d=c.exec(e);return d&&d[1]?new a(r,f,p,d[1]):new o(r,f,p)}class d{constructor(){if(!d.fetch)throw new Error("DefaultNetworkTransport.fetch must be set before it's used");if(!d.AbortController)throw new Error("DefaultNetworkTransport.AbortController must be set before it's used")}fetchWithCallbacks(e,t){this.fetch(e).then(async e=>{const t=await e.text(),r={};return e.headers.forEach((e,t)=>{r[t]=e}),{statusCode:e.status,headers:r,body:t}}).then(e=>t.onSuccess(e)).catch(e=>t.onError(e))}async fetch(e){const{timeoutMs:t,url:r,...n}=e,{signal:i,cancelTimeout:o}=this.createTimeoutSignal(t);try{return await d.fetch(r,{signal:i,...n})}finally{o()}}createTimeoutSignal(e){if("number"==typeof e){const t=new d.AbortController,r=setTimeout(()=>{t.abort()},e);return{signal:t.signal,cancelTimeout:()=>{clearTimeout(r)}}}return{signal:void 0,cancelTimeout:()=>{}}}}d.DEFAULT_HEADERS={"Content-Type":"application/json"},d.fetch=window.fetch.bind(window),d.AbortController=window.AbortController;var g="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};var y=function(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},r.exports),r.exports}((function(e,t){!function(t,r){e.exports=function(t){var r,n=(t=t||{}).Base64,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=function(e){for(var t={},r=0,n=e.length;r<n;r++)t[e.charAt(r)]=r;return t}(i),s=String.fromCharCode,a=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?s(192|t>>>6)+s(128|63&t):s(224|t>>>12&15)+s(128|t>>>6&63)+s(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return s(240|t>>>18&7)+s(128|t>>>12&63)+s(128|t>>>6&63)+s(128|63&t)},u=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,f=function(e){return e.replace(u,a)},c=function(e){var t=[0,2,1][e.length%3],r=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[i.charAt(r>>>18),i.charAt(r>>>12&63),t>=2?"=":i.charAt(r>>>6&63),t>=1?"=":i.charAt(63&r)].join("")},h=t.btoa&&"function"==typeof t.btoa?function(e){return t.btoa(e)}:function(e){if(e.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return e.replace(/[\s\S]{1,3}/g,c)},l=function(e){return h(f(String(e)))},p=function(e){return e.replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,"")},d=function(e,t){return t?p(l(e)):l(e)};t.Uint8Array&&(r=function(e,t){for(var r="",n=0,o=e.length;n<o;n+=3){var s=e[n],a=e[n+1],u=e[n+2],f=s<<16|a<<8|u;r+=i.charAt(f>>>18)+i.charAt(f>>>12&63)+(void 0!==a?i.charAt(f>>>6&63):"=")+(void 0!==u?i.charAt(63&f):"=")}return t?p(r):r});var g,y=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,b=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return s(55296+(t>>>10))+s(56320+(1023&t));case 3:return s((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return s((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},_=function(e){return e.replace(y,b)},m=function(e){var t=e.length,r=t%4,n=(t>0?o[e.charAt(0)]<<18:0)|(t>1?o[e.charAt(1)]<<12:0)|(t>2?o[e.charAt(2)]<<6:0)|(t>3?o[e.charAt(3)]:0),i=[s(n>>>16),s(n>>>8&255),s(255&n)];return i.length-=[0,0,2,1][r],i.join("")},w=t.atob&&"function"==typeof t.atob?function(e){return t.atob(e)}:function(e){return e.replace(/\S{1,4}/g,m)},v=function(e){return w(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},A=function(e){return String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,"")},B=function(e){return function(e){return _(w(e))}(A(e))};t.Uint8Array&&(g=function(e){return Uint8Array.from(v(A(e)),(function(e){return e.charCodeAt(0)}))});var O=function(){var e=t.Base64;return t.Base64=n,e};if(t.Base64={VERSION:"2.6.4",atob:v,btoa:h,fromBase64:B,toBase64:d,utob:f,encode:d,encodeURI:function(e){return d(e,!0)},btou:_,decode:B,noConflict:O,fromUint8Array:r,toUint8Array:g},"function"==typeof Object.defineProperty){var S=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};t.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",S((function(){return B(this)}))),Object.defineProperty(String.prototype,"toBase64",S((function(e){return d(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",S((function(){return d(this,!0)})))}}t.Meteor&&(Base64=t.Base64);e.exports&&(e.exports.Base64=t.Base64);return{Base64:t.Base64}}(t)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:g)}));const b={relaxed:!1};function _(e){return n.a.serialize(e,b)}function m(e){return Array.isArray(e)?e.map(e=>n.a.deserialize(e)):n.a.deserialize(e)}var w,v;!function(e){e.Normal="normal",e.Server="server"}(w||(w={})),function(e){e.NAME="name",e.EMAIL="email",e.PICTURE="picture",e.FIRST_NAME="first_name",e.LAST_NAME="last_name",e.GENDER="gender",e.BIRTHDAY="birthday",e.MIN_AGE="min_age",e.MAX_AGE="max_age"}(v||(v={}));const A={[v.NAME]:"name",[v.EMAIL]:"email",[v.PICTURE]:"pictureUrl",[v.FIRST_NAME]:"firstName",[v.LAST_NAME]:"lastName",[v.GENDER]:"gender",[v.BIRTHDAY]:"birthday",[v.MIN_AGE]:"minAge",[v.MAX_AGE]:"maxAge"};class B{constructor(e){if(this.type=w.Normal,this.identities=[],"object"==typeof e&&null!==e){const{type:t,identities:r,data:n}=e;if("string"!=typeof t)throw new Error("Expected 'type' in the response body");if(this.type=t,!Array.isArray(r))throw new Error("Expected 'identities' in the response body");if(this.identities=r.map(e=>({id:e.id,providerType:e.provider_type})),"object"!=typeof n||null===n)throw new Error("Expected 'data' in the response body");{const e=Object.fromEntries(Object.entries(n).map(([e,t])=>e in A?[A[e],t]:[e,t]));this.data=m(e)}}else this.data={}}}class O{constructor(e,t){this.storage=e,this.keyPart=t}get(e){return this.storage.get(this.keyPart+O.PART_SEPARATOR+e)}set(e,t){return this.storage.set(this.keyPart+O.PART_SEPARATOR+e,t)}remove(e){return this.storage.remove(this.keyPart+O.PART_SEPARATOR+e)}prefix(e){return new O(this,e)}clear(e=""){return this.storage.clear(this.keyPart+O.PART_SEPARATOR+e)}addListener(e){return this.storage.addListener(e)}removeListener(e){return this.storage.addListener(e)}}O.PART_SEPARATOR=":";class S extends O{constructor(e,t){super(e,`user(${t})`)}get accessToken(){return this.get("accessToken")}set accessToken(e){null===e?this.remove("accessToken"):this.set("accessToken",e)}get refreshToken(){return this.get("refreshToken")}set refreshToken(e){null===e?this.remove("refreshToken"):this.set("refreshToken",e)}get profile(){const e=this.get("profile");if(e){const t=new B;return Object.assign(t,JSON.parse(e)),t}}set profile(e){e?this.set("profile",JSON.stringify(e)):this.remove("profile")}get providerType(){const e=this.get("providerType");if(e)return e}set providerType(e){e?this.set("providerType",e):this.remove("providerType")}}function E(e){return Object.fromEntries(Object.entries(e).filter(e=>void 0!==e[1]))}function N(e,t=!0){const r=E(e);return(t&&Object.keys(r).length>0?"?":"")+Object.entries(r).map(([e,t])=>`${e}=${encodeURIComponent(t)}`).join("&")}const T=["inspect","callFunction","callFunctionStreaming",...Object.getOwnPropertyNames(Object.prototype)];function I(e){return function(e){for(const t of e)if("object"==typeof t)for(const[e,r]of Object.entries(t))void 0===r&&delete t[e];return e}(e).map(e=>"object"==typeof e?_(e):e)}class D{constructor(e,t={}){this.fetcher=e,this.serviceName=t.serviceName,this.argsTransformation=t.argsTransformation||I}static create(e,t={}){const r=new D(e,t);return new Proxy(r,{get(e,t,r){if("string"==typeof t&&-1===T.indexOf(t))return e.callFunction.bind(e,t);{const n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}}})}async callFunction(e,...t){const r={name:e,arguments:this.argsTransformation?this.argsTransformation(t):t};this.serviceName&&(r.service=this.serviceName);const n=this.fetcher.appRoute;return this.fetcher.fetchJSON({method:"POST",path:n.functionsCall().path,body:r})}callFunctionStreaming(e,...t){const r={name:e,arguments:this.argsTransformation?this.argsTransformation(t):t};this.serviceName&&(r.service=this.serviceName);const n=this.fetcher.appRoute,i=N({baas_request:Base64.encode(JSON.stringify(r))});return this.fetcher.fetchStream({method:"GET",path:n.functionsCall().path+i})}}class x{constructor(e,t="local-userpass"){this.fetcher=e,this.providerName=t}async registerUser(e,t){const r=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:r.emailPasswordAuth(this.providerName).register().path,body:{email:e,password:t}})}async confirmUser(e,t){const r=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:r.emailPasswordAuth(this.providerName).confirm().path,body:{token:e,tokenId:t}})}async resendConfirmationEmail(e){const t=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:t.emailPasswordAuth(this.providerName).confirmSend().path,body:{email:e}})}async resetPassword(e,t,r){const n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).reset().path,body:{token:e,tokenId:t,password:r}})}async sendResetPasswordEmail(e){const t=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:t.emailPasswordAuth(this.providerName).resetSend().path,body:{email:e}})}async callResetPasswordFunction(e,t,...r){const n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).resetCall().path,body:{email:e,password:t,arguments:r}})}}var U={api:function(){return{path:"/api/client/v2.0",app(e){return{path:this.path+"/app/"+e,location(){return{path:this.path+"/location"}},authProvider(e){return{path:this.path+"/auth/providers/"+e,login(){return{path:this.path+"/login"}}}},emailPasswordAuth(e){return{...this.authProvider(e),register(){return{path:this.path+"/register"}},confirm(){return{path:this.path+"/confirm"}},confirmSend(){return{path:this.path+"/confirm/send"}},reset(){return{path:this.path+"/reset"}},resetSend(){return{path:this.path+"/reset/send"}},resetCall(){return{path:this.path+"/reset/call"}}}},functionsCall(){return{path:this.path+"/functions/call"}}}},auth(){return{path:this.path+"/auth",apiKeys(){return{path:this.path+"/api_keys",key(e){return{path:this.path+"/"+e,enable(){return{path:this.path+"/enable"}},disable(){return{path:this.path+"/disable"}}}}}},profile(){return{path:this.path+"/profile"}},session(){return{path:this.path+"/session"}}}}}}};class R{constructor(e,t="api-key"){this.fetcher=e}create(e){return this.fetcher.fetchJSON({method:"POST",body:{name:e},path:U.api().auth().apiKeys().path,tokenType:"refresh"})}fetch(e){return this.fetcher.fetchJSON({method:"GET",path:U.api().auth().apiKeys().key(e).path,tokenType:"refresh"})}fetchAll(){return this.fetcher.fetchJSON({method:"GET",tokenType:"refresh",path:U.api().auth().apiKeys().path})}async delete(e){await this.fetcher.fetchJSON({method:"DELETE",path:U.api().auth().apiKeys().key(e).path,tokenType:"refresh"})}async enable(e){await this.fetcher.fetchJSON({method:"PUT",path:U.api().auth().apiKeys().key(e).enable().path,tokenType:"refresh"})}async disable(e){await this.fetcher.fetchJSON({method:"PUT",path:U.api().auth().apiKeys().key(e).disable().path,tokenType:"refresh"})}}let P=null;function L(){if(P)return P;throw new Error("Cannot get environment before it's set")}class j extends Error{constructor({message:e,code:t}){super(e),this.name="WatchError",this.code=t}}var M;!function(e){e.NEED_DATA="NEED_DATA",e.HAVE_EVENT="HAVE_EVENT",e.HAVE_ERROR="HAVE_ERROR"}(M||(M={}));class k{constructor(){this._state=M.NEED_DATA,this._error=null,this._textDecoder=new(L().TextDecoder),this._buffer="",this._bufferOffset=0,this._eventType="",this._dataBuffer=""}feedBuffer(e){this.assertState(M.NEED_DATA),this._buffer+=this._textDecoder.decode(e,{stream:!0}),this.advanceBufferState()}feedLine(e){if(this.assertState(M.NEED_DATA),e.endsWith("\n")&&(e=e.substr(0,e.length-1)),e.endsWith("\r")&&(e=e.substr(0,e.length-1)),0===e.length){if(0===this._dataBuffer.length)return void(this._eventType="");this._dataBuffer.endsWith("\n")&&(this._dataBuffer=this._dataBuffer.substr(0,this._dataBuffer.length-1)),this.feedSse({data:this._dataBuffer,eventType:this._eventType}),this._dataBuffer="",this._eventType=""}if(":"===e[0])return;const t=e.indexOf(":"),r=e.substr(0,t);let n=-1===t?"":e.substr(t+1);n.startsWith(" ")&&(n=n.substr(1)),"event"===r?this._eventType=n:"data"===r&&(this._dataBuffer+=n,this._dataBuffer+="\n")}feedSse(e){this.assertState(M.NEED_DATA);const t=e.data.indexOf("%");if(-1!==t){let r="",n=0;for(let i=t;-1!==i;i=e.data.indexOf("%",n)){r+=e.data.substr(n,i-n);const t=e.data.substr(i,3);r+="%25"===t?"%":"%0A"===t?"\n":"%0D"===t?"\r":t,n=i+t.length}r+=e.data.substr(n),e.data=r}if(e.eventType&&"message"!==e.eventType){if("error"===e.eventType){this._state=M.HAVE_ERROR,this._error=new j({message:e.data,code:"unknown"});try{const{error_code:t,error:r}=n.a.parse(e.data);if("string"!=typeof t)return;if("string"!=typeof r)return;this._error=new j({message:r,code:t})}catch{return}}}else{try{const t=n.a.parse(e.data);if("object"==typeof t)return this._nextEvent=t,void(this._state=M.HAVE_EVENT)}catch{}this._state=M.HAVE_ERROR,this._error=new j({message:"server returned malformed event: "+e.data,code:"bad bson parse"})}}get state(){return this._state}nextEvent(){this.assertState(M.HAVE_EVENT);const e=this._nextEvent;return this._state=M.NEED_DATA,this.advanceBufferState(),e}get error(){return this._error}advanceBufferState(){for(this.assertState(M.NEED_DATA);this.state===M.NEED_DATA;){if(this._bufferOffset===this._buffer.length)return this._buffer="",void(this._bufferOffset=0);const e=this._buffer.indexOf("\n",this._bufferOffset);if(-1===e)return void(0!==this._bufferOffset&&(this._buffer=this._buffer.substr(this._bufferOffset,this._buffer.length-this._bufferOffset),this._bufferOffset=0));this.feedLine(this._buffer.substr(this._bufferOffset,e-this._bufferOffset)),this._bufferOffset=e+1}}assertState(e){if(this._state!==e)throw Error(`Expected WatchStream to be in state ${e}, but in state ${this._state}`)}}class C{constructor(e,t,r,n){this.functions=D.create(e,{serviceName:t}),this.databaseName=r,this.collectionName=n,this.serviceName=t,this.fetcher=e}find(e={},t={}){return this.functions.find({database:this.databaseName,collection:this.collectionName,query:e,project:t.projection,sort:t.sort,limit:t.limit})}findOne(e={},t={}){return this.functions.findOne({database:this.databaseName,collection:this.collectionName,query:e,project:t.projection,sort:t.sort})}findOneAndUpdate(e={},t,r={}){return this.functions.findOneAndUpdate({database:this.databaseName,collection:this.collectionName,filter:e,update:t,sort:r.sort,projection:r.projection,upsert:r.upsert,returnNewDocument:r.returnNewDocument})}findOneAndReplace(e={},t,r={}){return this.functions.findOneAndReplace({database:this.databaseName,collection:this.collectionName,filter:e,update:t,sort:r.sort,projection:r.projection,upsert:r.upsert,returnNewDocument:r.returnNewDocument})}findOneAndDelete(e={},t={}){return this.functions.findOneAndReplace({database:this.databaseName,collection:this.collectionName,filter:e,sort:t.sort,projection:t.projection})}aggregate(e){return this.functions.aggregate({database:this.databaseName,collection:this.collectionName,pipeline:e})}count(e={},t={}){return this.functions.count({database:this.databaseName,collection:this.collectionName,query:e,limit:t.limit})}insertOne(e){return this.functions.insertOne({database:this.databaseName,collection:this.collectionName,document:e})}insertMany(e){return this.functions.insertMany({database:this.databaseName,collection:this.collectionName,documents:e})}deleteOne(e={}){return this.functions.deleteOne({database:this.databaseName,collection:this.collectionName,query:e})}deleteMany(e={}){return this.functions.deleteMany({database:this.databaseName,collection:this.collectionName,query:e})}updateOne(e,t,r={}){return this.functions.updateOne({database:this.databaseName,collection:this.collectionName,query:e,update:t,upsert:r.upsert})}updateMany(e,t,r={}){return this.functions.updateMany({database:this.databaseName,collection:this.collectionName,query:e,update:t,upsert:r.upsert})}async*watch({ids:e,filter:t}={}){const r=await this.functions.callFunctionStreaming("watch",{database:this.databaseName,collection:this.collectionName,ids:e,filter:t}),n=new k;for await(const e of r)if(e){for(n.feedBuffer(e);n.state==M.HAVE_EVENT;)yield n.nextEvent();if(n.state==M.HAVE_ERROR)throw n.error}}}function Y(e,t,r,n){return new C(e,t,r,n)}function $(e,t,r){return{collection:Y.bind(null,e,t,r)}}var F,J;!function(e){e.Active="active",e.LoggedOut="logged-out",e.Removed="removed"}(F||(F={})),function(e){e.Normal="normal",e.Server="server"}(J||(J={}));class z{constructor(e){if(this.app=e.app,this.id=e.id,this.storage=new S(this.app.storage,this.id),"accessToken"in e&&"refreshToken"in e&&"providerType"in e)this._accessToken=e.accessToken,this._refreshToken=e.refreshToken,this.providerType=e.providerType,this.storage.accessToken=e.accessToken,this.storage.refreshToken=e.refreshToken,this.storage.providerType=e.providerType;else{this._accessToken=this.storage.accessToken,this._refreshToken=this.storage.refreshToken;const e=this.storage.providerType;if(this._profile=this.storage.profile,!e)throw new Error("Storage is missing a provider type");this.providerType=e}this.fetcher=this.app.fetcher.clone({userContext:{currentUser:this}}),this.apiKeys=new R(this.fetcher),this.functions=D.create(this.fetcher)}get accessToken(){return this._accessToken}set accessToken(e){this._accessToken=e,this.storage.accessToken=e}get refreshToken(){return this._refreshToken}set refreshToken(e){this._refreshToken=e,this.storage.refreshToken=e}get state(){return this.id in this.app.allUsers?null===this.refreshToken?F.LoggedOut:F.Active:F.Removed}get isLoggedIn(){return this.state===F.Active}get customData(){if(this.accessToken){return this.decodeAccessToken().userData}throw new Error("Cannot read custom data without an access token")}get profile(){if(this._profile)return this._profile.data;throw new Error("A profile was never fetched for this user")}get identities(){if(this._profile)return this._profile.identities;throw new Error("A profile was never fetched for this user")}get deviceId(){if(this.accessToken){const e=this.accessToken.split(".")[1];if(e){const t=JSON.parse(y.Base64.decode(e)).baas_device_id;if("string"==typeof t&&"000000000000000000000000"!==t)return t}}return null}async refreshProfile(){const e=await this.fetcher.fetchJSON({method:"GET",path:U.api().auth().profile().path});this._profile=new B(e),this.storage.profile=this._profile}async logOut(){try{null!==this._refreshToken&&await this.fetcher.fetchJSON({method:"DELETE",path:U.api().auth().session().path,tokenType:"refresh"})}finally{this.accessToken=null,this.refreshToken=null}}async linkCredentials(e){const t=await this.app.authenticator.authenticate(e,this);if(this.id!==t.userId){const e=`got user id ${t.userId} expected ${this.id}`;throw new Error(`Link response ment for another user (${e})`)}this.accessToken=t.accessToken,await this.refreshProfile()}async refreshAccessToken(){const e=await this.fetcher.fetchJSON({method:"POST",path:U.api().auth().session().path,tokenType:"refresh"}),{access_token:t}=e;if("string"!=typeof t)throw new Error("Expected an 'access_token' in the response");this.accessToken=t}async refreshCustomData(){return await this.refreshAccessToken(),this.customData}callFunction(e,...t){return this.functions.callFunction(e,...t)}toJSON(){return{id:this.id,accessToken:this.accessToken,refreshToken:this.refreshToken,profile:this._profile,state:this.state,customData:this.customData}}push(e=""){throw new Error("Not yet implemented")}mongoClient(e){return function(e,t="mongo-db"){return{db:$.bind(null,e,t)}}(this.fetcher,e)}decodeAccessToken(){if(this.accessToken){const e=this.accessToken.split(".");if(3!==e.length)throw new Error("Expected an access token with three parts");const t=e[1],r=y.Base64.decode(t),n=JSON.parse(r),{exp:i,iat:o,sub:s,user_data:a={}}=n;if("number"!=typeof i)throw new Error("Failed to decode access token 'exp'");if("number"!=typeof o)throw new Error("Failed to decode access token 'iat'");return{expires:i,issuedAt:o,subject:s,userData:a}}throw new Error("Missing an access token")}}class W{constructor(e,t,r){this.providerName=e,this.providerType=t,this.payload=r}static anonymous(){return new W("anon-user","anon-user",{})}static userApiKey(e){return new W("api-key","api-key",{key:e})}static serverApiKey(e){return new W("api-key","api-key",{key:e})}static apiKey(e){return new W("api-key","api-key",{key:e})}static emailPassword(e,t){return new W("local-userpass","local-userpass",{username:e,password:t})}static function(e){return new W("custom-function","custom-function",e)}static jwt(e){return new W("custom-token","custom-token",{token:e})}static google(e){return new W("oauth2-google","oauth2-google",W.derivePayload(e))}static derivePayload(e){if("string"==typeof e){if(e.includes("://"))return this.derivePayload({redirectUrl:e});if(e.startsWith("4/"))return this.derivePayload({authCode:e});if(e.startsWith("ey"))return this.derivePayload({idToken:e});throw new Error("Unexpected payload: "+e)}if(1===Object.keys(e).length){if("authCode"in e||"redirectUrl"in e)return e;if("idToken"in e)return{id_token:e.idToken};throw new Error("Unexpected payload: "+JSON.stringify(e))}throw new Error("Expected only one property in payload, got "+JSON.stringify(e))}static facebook(e){return new W("oauth2-facebook","oauth2-facebook",e.includes("://")?{redirectUrl:e}:{accessToken:e})}static apple(e){return new W("oauth2-apple","oauth2-apple",e.includes("://")?{redirectUrl:e}:{id_token:e})}}class V extends O{constructor(e,t){super(e,`app(${t})`)}getUserIds(){const e=this.get("userIds"),t=e?JSON.parse(e):[];if(Array.isArray(t))return[...new Set(t)];throw new Error("Expected the user ids to be an array")}setUserIds(e,t){if(t){const t=this.getUserIds();for(const r of t)-1===e.indexOf(r)&&e.push(r)}this.set("userIds",JSON.stringify(e))}removeUserId(e){const t=this.getUserIds().filter(t=>t!==e);this.setUserIds(t,!1)}getDeviceId(){return this.get("deviceId")}setDeviceId(e){this.set("deviceId",e)}}const H={_stitch_client_app_id:"appId",_baas_client_app_id:"appId",_stitch_ua:"userAuth",_baas_ua:"userAuth",_stitch_link:"link",_baas_link:"link",_stitch_error:"error",_baas_error:"error",_stitch_state:"state",_baas_state:"state"};class K{constructor(e,t=L().openWindow){this.storage=e.prefix("oauth2"),this.openWindow=t}static parseRedirectLocation(e){const t=function(e){const t="?"===e[0]?e.substr(1):e;return Object.fromEntries(t.split("&").filter(e=>e.length>0).map(e=>e.split("=")).map(([e,t])=>[e,decodeURIComponent(t)]))}(e),r={};for(const[e,n]of Object.entries(H)){const i=t[e];i&&(r[n]=i)}return r}static handleRedirect(e,t=L().defaultStorage){const r=K.parseRedirectLocation(e),{state:n,error:i}=r;if("string"!=typeof n)throw i?new Error("Failed to handle OAuth 2.0 redirect: "+i):new Error("Failed to handle OAuth 2.0 redirect.");{const e=t.prefix("oauth2");K.getStateStorage(e,n).set("result",JSON.stringify(r))}}static decodeAuthInfo(e){const t=(e||"").split("$");if(4===t.length){const[e,r,n,i]=t;return{accessToken:e,refreshToken:r,userId:n,deviceId:i}}throw new Error("Failed to decode 'authInfo' into ids and tokens")}static getStateStorage(e,t){return e.prefix(`state(${t})`)}openWindowAndWaitForRedirect(e,t){const r=K.getStateStorage(this.storage,t);return new Promise((t,n)=>{let i,o=null;const s=()=>{const e=r.get("result");if(e){const n=JSON.parse(e);r.removeListener(s),r.clear();try{o&&(clearInterval(i),o.close())}catch(e){console.warn("Failed closing redirect window: "+e)}finally{t(n)}}};r.addListener(s),o=this.openWindow(e),i=setInterval(()=>{if(o){if(o.closed){clearInterval(i),r.removeListener(s);const e=new Error("Window closed");n(e)}}else clearInterval(i)},100)})}generateState(){return function(e,t){let r="";for(let n=0;n<e;n++)r+=t[Math.floor(Math.random()*t.length)];return r}(12,"abcdefghijklmnopqrstuvwxyz")}}class q{constructor(e,t,r){this.fetcher=e,this.oauth2=new K(t),this.getDeviceInformation=r}async authenticate(e,t){const r=this.getDeviceInformation(),n="object"==typeof t;if(e.providerType.startsWith("oauth2")&&"string"==typeof e.payload.redirectUrl){const i=this.oauth2.generateState(),o=await this.getLogInUrl(e,n,{state:i,redirect:e.payload.redirectUrl,providerRedirectHeader:!!n||void 0,device:n?void 0:r.encode()});if(n){const e=(await this.fetcher.fetch({method:"GET",url:o,tokenType:n?"access":"none",user:t,mode:"cors",credentials:"include"})).headers.get("x-baas-location");if(e)return this.openWindowAndWaitForAuthResponse(e,i);throw new Error("Missing x-baas-location header")}return this.openWindowAndWaitForAuthResponse(o,i)}{const i=await this.getLogInUrl(e,n),o=await this.fetcher.fetchJSON({method:"POST",url:i,body:{...e.payload,options:{device:r.toJSON()}},tokenType:n?"access":"none",user:t}),{user_id:s,access_token:a,refresh_token:u=null,device_id:f}=o;if("string"!=typeof s)throw new Error("Expected a user id in the response");if("string"!=typeof a)throw new Error("Expected an access token in the response");return{userId:s,accessToken:a,refreshToken:u,deviceId:f}}}async getLogInUrl(e,t=!1,r={}){const n=this.fetcher.appRoute.authProvider(e.providerName).login(),i=N({link:t?"true":void 0,...r});return await this.fetcher.locationUrl+n.path+i}async openWindowAndWaitForAuthResponse(e,t){const r=await this.oauth2.openWindowAndWaitForRedirect(e,t);return K.decodeAuthInfo(r.userAuth)}}class X extends Error{constructor(e,t,r,n,i,o,s){const a=n?`status ${r} ${n}`:"status "+r;super("string"==typeof i?`Request failed (${e} ${t}): ${i} (${a})`:`Request failed (${e} ${t}): (${a})`),this.method=e,this.url=t,this.statusText=n,this.statusCode=r,this.error=i,this.errorCode=o,this.link=s}static async fromRequestAndResponse(e,t){var r;const{url:n,method:i}=e,{status:o,statusText:s}=t;if(null===(r=t.headers.get("content-type"))||void 0===r?void 0:r.startsWith("application/json")){const e=await t.json(),r=e.error||"No message",a=e.error_code,u=e.link;return new X(i,n,o,s,r,a,u)}return new X(i,n,o,s)}}class G{constructor({appId:e,transport:t,userContext:r,locationUrlContext:n}){this.appId=e,this.transport=t,this.userContext=r,this.locationUrlContext=n}static buildAuthorizationHeader(e,t){if(e&&"none"!==t){if("access"===t)return{Authorization:"Bearer "+e.accessToken};if("refresh"===t)return{Authorization:"Bearer "+e.refreshToken};throw new Error(`Unexpected token type (${t})`)}return{}}static buildBody(e){if(e){if("object"==typeof e&&null!==e)return JSON.stringify(_(e));if("string"==typeof e)return e;throw console.log("body is",e),new Error("Unexpected type of body")}}static buildJsonHeader(e){return e&&e.length>0?{"Content-Type":"application/json"}:{}}clone(e){return new G({appId:this.appId,transport:this.transport,userContext:this.userContext,locationUrlContext:this.locationUrlContext,...e})}async fetch(e){const{path:t,url:r,tokenType:n="access",user:i=this.userContext.currentUser,...o}=e;if("string"==typeof t&&"string"==typeof r)throw new Error("Use of 'url' and 'path' mutually exclusive");if("string"==typeof t){const r=await this.locationUrlContext.locationUrl+t;return this.fetch({...e,path:void 0,url:r})}if("string"==typeof r){const t=await this.transport.fetch({...o,url:r,headers:{...G.buildAuthorizationHeader(i,n),...e.headers}});if(t.ok)return t;if(i&&401===t.status&&"access"===n)return await i.refreshAccessToken(),this.fetch({...e,user:i});throw i&&401===t.status&&"refresh"===n&&(i.accessToken=null,i.refreshToken=null),await X.fromRequestAndResponse(e,t)}throw new Error("Expected either 'url' or 'path'")}async fetchJSON(e){const{body:t}=e,r=G.buildBody(t),n=G.buildJsonHeader(r),i=await this.fetch({...e,body:r,headers:{Accept:"application/json",...n,...e.headers}}),o=i.headers.get("content-type");if(null==o?void 0:o.startsWith("application/json")){return m(await i.json())}if(null===o)return null;throw new Error(`Expected JSON response, got "${o}"`)}async fetchStream(e){const{body:t}=await this.fetch({...e,headers:{Accept:"text/event-stream",...e.headers}});return function(e){if("object"!=typeof e||null===e)throw new Error("Expected a non-null object");if(Symbol.asyncIterator in e)return e;if("getReader"in e){const t=e;return{[Symbol.asyncIterator](){const e=t.getReader();return{next:()=>e.read(),return:async()=>(await e.cancel(),{done:!0,value:null})}}}}throw new Error("Expected an AsyncIterable or a ReadableStream")}(t)}get appRoute(){return U.api().app(this.appId)}get locationUrl(){return this.locationUrlContext.locationUrl}}var Z;!function(e){e.DEVICE_ID="deviceId",e.APP_ID="appId",e.APP_VERSION="appVersion",e.PLATFORM="platform",e.PLATFORM_VERSION="platformVersion",e.SDK_VERSION="sdkVersion"}(Z||(Z={}));class Q{constructor({appId:e,appVersion:t,deviceId:r}){this.sdkVersion="1.3.0";const n=L();this.platform=n.platform,this.platformVersion=n.platformVersion,this.appId=e,this.appVersion=t,this.deviceId=r}encode(){const e=E(this);return y.Base64.encode(JSON.stringify(e))}toJSON(){return E(this)}}class ee{constructor(e){this.users=[],this._locationUrl=null;const t="string"==typeof e?{id:e}:e;if("object"!=typeof t||"string"!=typeof t.id)throw new Error("Missing a MongoDB Realm app-id");this.id=t.id,this.baseUrl=t.baseUrl||"https://stitch.mongodb.com",t.skipLocationRequest&&(this._locationUrl=Promise.resolve(this.baseUrl)),this.localApp=t.app;const{storage:r,transport:n=new d}=t;this.fetcher=new G({appId:this.id,userContext:this,locationUrlContext:this,transport:n}),this.emailPasswordAuth=new x(this.fetcher);const i=r||L().defaultStorage;this.storage=new V(i,this.id),this.authenticator=new q(this.fetcher,i,()=>this.deviceInformation);try{this.hydrate()}catch(e){this.storage.clear(),console.warn("Realm app hydration failed:",e.message)}}static getApp(e){if(e in ee.appCache)return ee.appCache[e];{const t=new ee(e);return ee.appCache[e]=t,t}}switchUser(e){const t=this.users.findIndex(t=>t===e);if(-1===t)throw new Error("The user was never logged into this app");const[r]=this.users.splice(t,1);this.users.unshift(r)}async logIn(e,t=!0){const r=await this.authenticator.authenticate(e),n=this.createOrUpdateUser(r,e.providerType);this.switchUser(n),t&&await n.refreshProfile(),this.storage.setUserIds(this.users.map(e=>e.id),!0);const i=r.deviceId;return i&&"000000000000000000000000"!==i&&this.storage.set("deviceId",i),n}async removeUser(e){const t=this.users.findIndex(t=>t===e);if(-1===t)throw new Error("The user was never logged into this app");this.users.splice(t,1),await e.logOut(),this.storage.remove(`user(${e.id}):profile`),this.storage.removeUserId(e.id)}get currentUser(){const e=this.users.filter(e=>e.state===F.Active);return 0===e.length?null:e[0]}get allUsers(){return Object.fromEntries(this.users.map(e=>[e.id,e]))}get locationUrl(){if(!this._locationUrl){const e=U.api().app(this.id).location().path;this._locationUrl=this.fetcher.fetchJSON({method:"GET",url:this.baseUrl+e,tokenType:"none"}).then(({hostname:e})=>{if("string"!=typeof e)throw new Error("Expected response to contain a 'hostname'");return e}).catch(e=>{throw this._locationUrl=null,e})}return this._locationUrl}get deviceInformation(){const e=this.storage.getDeviceId(),t="string"==typeof e&&"000000000000000000000000"!==e?new n.b(e):void 0;return new Q({appId:this.localApp?this.localApp.name:void 0,appVersion:this.localApp?this.localApp.version:void 0,deviceId:t})}createOrUpdateUser(e,t){const r=this.users.find(t=>t.id===e.userId);if(r)return r.accessToken=e.accessToken,r.refreshToken=e.refreshToken,r;{if(!e.refreshToken)throw new Error("No refresh token in response from server");const r=new z({app:this,id:e.userId,accessToken:e.accessToken,refreshToken:e.refreshToken,providerType:t});return this.users.unshift(r),r}}hydrate(){const e=this.storage.getUserIds();this.users=e.map(e=>new z({app:this,id:e}))}}ee.appCache={},ee.Credentials=W;const te=re?p(re):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new f:"undefined"!=typeof navigator?p(navigator.userAgent):void 0!==e&&e.version?new s(e.version.slice(1)):null;var re;const ne={defaultStorage:(new class{constructor(){if("object"!=typeof window)throw new Error("Cannot use LocalStorage without a global window object");this.window=window}get(e){return this.window.localStorage.getItem(e)}set(e,t){return this.window.localStorage.setItem(e,t)}remove(e){return this.window.localStorage.removeItem(e)}prefix(e){return new O(this,e)}clear(e){const t=[];for(let r=0;r<this.window.localStorage.length;r++){const n=this.window.localStorage.key(r);!n||e&&!n.startsWith(e)||t.push(n)}for(const e of t)this.window.localStorage.removeItem(e)}addListener(e){return this.window.addEventListener("storage",e)}removeListener(e){return this.window.removeEventListener("storage",e)}}).prefix("realm-web"),openWindow:e=>window.open(e),platform:(null==te?void 0:te.name)||"web",platformVersion:(null==te?void 0:te.version)||"0.0.0",TextDecoder:TextDecoder};P=ne}).call(this,r(3),r(1))},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var u,f=[],c=!1,h=-1;function l(){c&&u&&(c=!1,u.length?f=u.concat(f):h=-1,f.length&&p())}function p(){if(!c){var e=a(l);c=!0;for(var t=f.length;t;){for(u=f,f=[];++h<t;)u&&u[h].run();h=-1,t=f.length}u=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];f.push(new d(e,t)),1!==f.length||c||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(5),i=r(6),o=r(7);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return f(this,e,t,r)}function f(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=l(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(t,r),i=(e=a(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|p(t.length);return 0===(e=a(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?a(e,0):l(e,t);if("Buffer"===t.type&&o(t.data))return l(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(c(t),e=a(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function l(e,t){var r=t.length<0?0:0|p(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function d(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Y(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return $(e).length;default:if(n)return Y(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,r);case"utf8":case"utf-8":return E(this,t,r);case"ascii":return N(this,t,r);case"latin1":case"binary":return T(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:_(e,t,r,n,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):_(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function _(e,t,r,n,i){var o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function f(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var c=-1;for(o=r;o<a;o++)if(f(e,o)===f(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var h=!0,l=0;l<u;l++)if(f(e,o+l)!==f(t,l)){h=!1;break}if(h)return o}return-1}function m(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function w(e,t,r,n){return F(Y(t,e.length-r),e,r,n)}function v(e,t,r,n){return F(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function A(e,t,r,n){return v(e,t,r,n)}function B(e,t,r,n){return F($(t),e,r,n)}function O(e,t,r,n){return F(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function S(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function E(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,u,f=e[i],c=null,h=f>239?4:f>223?3:f>191?2:1;if(i+h<=r)switch(h){case 1:f<128&&(c=f);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&f)<<6|63&o)>127&&(c=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&f)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&f)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return f(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return c(t),t<=0?a(e,t):void 0!==r?"string"==typeof n?a(e,t).fill(r,n):a(e,t).fill(r):a(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return h(null,e)},u.allocUnsafeSlow=function(e){return h(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),f=this.slice(n,i),c=e.slice(t,r),h=0;h<a;++h)if(f[h]!==c[h]){o=f[h],s=c[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return m(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return v(this,e,t,r);case"latin1":case"binary":return A(this,e,t,r);case"base64":return B(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function T(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function I(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=C(e[o]);return i}function D(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function x(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function U(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function R(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function P(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function L(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function j(e,t,r,n,o){return o||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function M(e,t,r,n,o){return o||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||x(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||x(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||x(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||x(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||x(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||x(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||x(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||x(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||x(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||x(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||x(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||x(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||x(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||U(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||U(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):P(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);U(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);U(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):P(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return j(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return j(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=u.isBuffer(e)?e:Y(new u(e,n).toString()),a=s.length;for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var k=/[^+\/0-9A-Za-z-_]/g;function C(e){return e<16?"0"+e.toString(16):e.toString(16)}function Y(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function $(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(k,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function F(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(1))},function(e,t,r){"use strict";t.byteLength=function(e){var t=f(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=f(e),s=n[0],a=n[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),c=0,h=a>0?s-4:s;for(r=0;r<h;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[c++]=255&t);1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(c(e,s,s+16383>a?a:s+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function f(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,f=u>>1,c=-7,h=r?i-1:0,l=r?-1:1,p=e[t+h];for(h+=l,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+e[t+h],h+=l,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=256*s+e[t+h],h+=l,c-=8);if(0===o)o=1-f;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=f}return(p?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,u,f=8*o-i-1,c=(1<<f)-1,h=c>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+h>=1?l/u:l*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(t*u-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,f+=i;f>0;e[r+p]=255&s,p+=d,s/=256,f-=8);e[r+p-d]|=128*g}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";r.r(t);r(2);class n{static getFormData(){const e={},t=document.getElementById("id").innerText;return e.id=""!=t?parseInt(t):"",e.avatarUrl=document.getElementById("avatarUrl").value,e.name=document.getElementById("name").value,e.email=document.getElementById("email").value,e}static resetForm(){document.getElementById("id").innerText="",document.getElementById("avatarUrl").value="",document.getElementById("name").value="",document.getElementById("email").value=""}static formRender(e){document.getElementById("id").innerText=e.id,document.getElementById("avatarUrl").value=e.avatarUrl,document.getElementById("name").value=e.name,document.getElementById("email").value=e.email}static getUserHTML(e,t,r){const n=`<div class="item"><img src="${e.avatarUrl}" width="100"></div>\n        <div class="item">${e.id} </div>\n        <div class="item">${e.name} </div>\n        <div class="item">${e.email}</div>\n        <div class="item">\n                <button>Delete</button>\n                <button>Edit</button>\n        </div>`;console.log(n);const i=document.createElement("div");i.innerHTML=n;const o=i.querySelectorAll("button");return o[0].addEventListener("click",t(e.id)),o[1].addEventListener("click",r(e.id)),i}static addUserHTML(e){document.getElementById("output").appendChild(e)}static refresh(e,t,r){document.getElementById("output").innerHTML="",e.forEach(e=>{n.addUserHTML(n.getUserHTML(e,t,r))})}}var i=new class{constructor(){this.page=3,this.start=0,this.id=0,this.users=[]}save(e){if(e.id){const t=this.find(e.id);let r={id:e.id,avatarUrl:e.avatarUrl!=t.avatarUrl?e.avatarUrl:t.avatarUrl,name:e.name!=t.name?e.name:t.name,email:e.email!=t.email?e.name:t.email};this.update(r)}else this.add(e)}update(e){const t=this.users.findIndex(t=>t.id===e.id);this.users[t]=e}add(e){return e.id=++this.id,this.users.push(e),e}find(e){return this.users.find(t=>t.id===e)}getUsersPage(){let e=this.start,t=this.start+this.page;return t>=this.users.length&&(t=this.users.length),this.users.slice(e,t)}goForward(){return this.start<this.users.length-1&&(this.start=this.start+this.page),this.getUsersPage()}goBackward(){return this.start>=this.page&&(this.start=this.start-this.page),this.getUsersPage()}goToTheFirstPage(){return this.reset(),this.getUsersPage()}goToTheLastPage(){let e=this.users.length/this.page;return this.start=parseInt(e)*this.page,this.getUsersPage()}reset(){this.start=0}remove(e){return this.users=this.users.filter(t=>t.id!==e),this.users}};class o{static save(e){const t=n.getFormData();i.save(t);const r=i.getUsersPage();n.refresh(r,o.delete,o.edit)}static delete(e){i.remove(e);const t=i.goToTheFirstPage();n.refresh(t,o.delete,o.edit)}static edit(e){const t=i.find(e);n.formRender(t)}static goForward(){const e=i.goForward();n.refresh(e)}static goBackward(){const e=i.goBackward();n.refresh(e,o.delete,o.edit)}static goToTheFirstPage(){const e=i.goToTheFirstPage();n.refresh(e,o.delete,o.edit)}static goToTheLastPage(){const e=i.goToTheLastPage();n.refresh(e,o.delete,o.edit)}static resetForm(){n.resetForm()}}document.addEventListener("DOMContentLoaded",e=>{document.forms.users.addEventListener("submit",e=>{e.preventDefault()}),document.getElementById("btn-save").addEventListener("click",o.save),document.getElementById("btn-forward").addEventListener("click",o.goForward),document.getElementById("btn-backward").addEventListener("click",o.goBackward),document.getElementById("btn-first").addEventListener("click",o.goToTheFirstPage),document.getElementById("btn-last").addEventListener("click",o.goToTheLastPage),document.getElementById("btn-clear").addEventListener("click",o.resetForm)})}]);