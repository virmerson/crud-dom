!function(e){var t={};function r(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);class s{static getFormData(){const e={},t=document.getElementById("id").innerText;return e.id=""!=t?parseInt(t):"",e.avatarUrl=document.getElementById("avatarUrl").value,e.name=document.getElementById("name").value,e.email=document.getElementById("email").value,e}static resetForm(){document.getElementById("id").innerText="",document.getElementById("avatarUrl").value="",document.getElementById("name").value="",document.getElementById("email").value=""}static formRender(e){document.getElementById("id").innerText=e.id,document.getElementById("avatarUrl").value=e.avatarUrl,document.getElementById("name").value=e.name,document.getElementById("email").value=e.email}static getUserHTML(e){return`<div class="item"><img src="${e.avatarUrl}" width="100"></div>\n        <div class="item">${e.id} </div>\n        <div class="item">${e.name} </div>\n        <div class="item">${e.email}</div>\n        <div class="item">\n                <button onclick="${t=>UserController.delete(e.id)}">Delete</button>\n                <button onclick="${t=>UserController.edit(e.id)}">Edit</button>\n        </div>`}static addUserHTML(e){document.getElementById("output").innerHTML+=e}static refresh(e){document.getElementById("output").innerHTML="",e.forEach(e=>{s.addUserHTML(s.getUserHTML(e))})}}var n=new class{constructor(){this.page=3,this.start=0,this.id=0,this.users=[]}save(e){if(e.id){const t=this.find(e.id);let r={id:e.id,avatarUrl:e.avatarUrl!=t.avatarUrl?e.avatarUrl:t.avatarUrl,name:e.name!=t.name?e.name:t.name,email:e.email!=t.email?e.name:t.email};this.update(r)}else this.add(e)}update(e){const t=this.users.findIndex(t=>t.id===e.id);this.users[t]=e}add(e){return e.id=++this.id,this.users.push(e),e}find(e){return this.users.find(t=>t.id===e)}getUsersPage(){let e=this.start,t=this.start+this.page;return t>=this.users.length&&(t=this.users.length),this.users.slice(e,t)}goForward(){return this.start<this.users.length-1&&(this.start=this.start+this.page),this.getUsersPage()}goBackward(){return this.start>=this.page&&(this.start=this.start-this.page),this.getUsersPage()}goToTheFirstPage(){return this.reset(),this.getUsersPage()}goToTheLastPage(){let e=this.users.length/this.page;return this.start=parseInt(e)*this.page,this.getUsersPage()}reset(){this.start=0}remove(e){return this.users=this.users.filter(t=>t.id!==e),this.users}};class a{static save(e){const t=s.getFormData();n.save(t);const r=n.getUsersPage();s.refresh(r)}static delete(e){n.remove(e);const t=n.goToTheFirstPage();s.refresh(t)}static edit(e){const t=n.find(e);s.formRender(t)}static goForward(){const e=n.goForward();s.refresh(e)}static goBackward(){const e=n.goBackward();s.refresh(e)}static goToTheFirstPage(){const e=n.goToTheFirstPage();s.refresh(e)}static goToTheLastPage(){const e=n.goToTheLastPage();s.refresh(e)}static resetForm(){s.resetForm()}}document.addEventListener("DOMContentLoaded",e=>{document.forms.users.addEventListener("submit",e=>{e.preventDefault()}),document.getElementById("btn-save").addEventListener("click",a.save),document.getElementById("btn-forward").addEventListener("click",a.goForward),document.getElementById("btn-backward").addEventListener("click",a.goBackward),document.getElementById("btn-first").addEventListener("click",a.goToTheFirstPage),document.getElementById("btn-last").addEventListener("click",a.goToTheLastPage),document.getElementById("btn-clear").addEventListener("click",a.resetForm)})}]);